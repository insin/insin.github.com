require=function e(t,o,n){function s(r,a){if(!o[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(i)return i(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[r]={exports:{}};t[r][0].call(d.exports,function(e){var o=t[r][1][e];return s(o?o:e)},d,d.exports,e,t,o,n)}return o[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(e){"use strict";var t=e("react"),o=e("Reactodo"),n=e("trim"),s=/^\?(.+)/.exec(n(decodeURIComponent(window.location.search))),i=null!=s?s[1]:"";t.render(t.createElement(o,{session:i}),document.getElementById("reactodo"))},{Reactodo:"Reactodo",react:"react",trim:"trim"}],Base64:[function(e,t){"use strict";var o={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,s,i,r,a,l,c="",d=0;for(e=o._utf8_encode(e);d<e.length;)t=e.charCodeAt(d++),n=e.charCodeAt(d++),s=e.charCodeAt(d++),i=t>>2,r=(3&t)<<4|n>>4,a=(15&n)<<2|s>>6,l=63&s,isNaN(n)?a=l=64:isNaN(s)&&(l=64),c=c+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return c},decode:function(e){var t,n,s,i,r,a,l,c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)i=this._keyStr.indexOf(e.charAt(d++)),r=this._keyStr.indexOf(e.charAt(d++)),a=this._keyStr.indexOf(e.charAt(d++)),l=this._keyStr.indexOf(e.charAt(d++)),t=i<<2|r>>4,n=(15&r)<<4|a>>2,s=(3&a)<<6|l,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(n)),64!=l&&(c+=String.fromCharCode(s));return c=o._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",o=0;o<e.length;o++){var n=e.charCodeAt(o);128>n?t+=String.fromCharCode(n):n>127&&2048>n?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},_utf8_decode:function(e){var t,o,n,s,i="",r=0;for(t=o=n=0;r<e.length;)t=e.charCodeAt(r),128>t?(i+=String.fromCharCode(t),r++):t>191&&224>t?(n=e.charCodeAt(r+1),i+=String.fromCharCode((31&t)<<6|63&n),r+=2):(n=e.charCodeAt(r+1),s=e.charCodeAt(r+2),i+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&s),r+=3);return i}};t.exports=o},{}],Constants:[function(e,t){"use strict";t.exports={LOCALSTORAGE_PREFIX:"reactodo:",ENTER_KEY:13,ESCAPE_KEY:27,NBSP:" ",UP_ARROW:"↑",DOWN_ARROW:"↓",CHECK:"X",SETTINGS:"★",DRAG_HANDLE:"☰",STOP:"■",TRIANGLE_DOWN:"▼",TRIANGLE_UP:"▲"}},{}],EditInput:[function(e,t){"use strict";var o=e("react"),n=e("Constants"),s=n.ENTER_KEY,i=n.ESCAPE_KEY,r=e("trim"),a=o.createClass({displayName:"EditInput",propTypes:{onCancel:o.PropTypes.func.isRequired,onSubmit:o.PropTypes.func.isRequired},getDefaultProps:function(){return{autoFocus:!0,button:"Submit",defaultValue:"",size:15,required:!0,trim:!0}},componentDidMount:function(){this.props.autoFocus&&this.refs.input.getDOMNode().focus()},submit:function(){var e=this.refs.input.getDOMNode().value;this.props.trim&&(e=r(e)),(!this.props.required||e)&&this.props.onSubmit(e)},cancel:function(){this.props.onCancel()},handleKeyDown:function(e){e.which===s?this.submit():e.which===i&&this.cancel()},render:function(){return o.createElement("span",null,o.createElement("input",{type:"text",size:this.props.size,defaultValue:this.props.defaultValue,ref:"input",onKeyDown:this.handleKeyDown})," ",o.createElement("span",{className:"button",onClick:this.submit},this.props.button)," ",o.createElement("span",{className:"button",onClick:this.cancel},"Cancel"))}});t.exports=a},{Constants:"Constants",react:"react",trim:"trim"}],Page:[function(e,t){"use strict";var o={WELCOME:1,SETTINGS:2,TODO_LISTS:3};t.exports=o},{}],Project:[function(e,t){"use strict";var o=e("react"),n=e("Constants"),s=e("TodoItem"),i=e("classNames"),r=o.createClass({displayName:"Project",getInitialState:function(){return{dragoverTodoId:null,dragoverDoing:!1}},addTodo:function(){this.props.onAddTodo(this.props.project)},deleteDoneTodos:function(){confirm("Are you sure you want to delete all completed TODOs in "+this.props.project.name+"?")&&this.props.onDeleteDoneTodos(this.props.project)},handleDragEnterDoing:function(e){e.preventDefault()},handleDragOverDoing:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move",this.state.dragoverDoing||this.setState({dragoverTodoId:null,dragoverDoing:!0})},handeDragLeaveDoing:function(){this.state.dragoverDoing&&this.setState({dragoverDoing:!1})},handleDropDoing:function(e){e.preventDefault();var t=Number(e.dataTransfer.getData("text"));this.state.dragoverDoing&&this.setState({dragoverTodoId:null,dragoverDoing:!1}),this.props.onDoTodo(this.props.project,this.props.project.todos[t])},onToggleTodo:function(e){this.props.onToggleTodo(this.props.project,e)},onDoTodo:function(e){this.props.onDoTodo(this.props.project,e)},stopDoingTodo:function(){this.props.onStopDoingTodo(this.props.project)},onEditTodo:function(e,t){this.props.onEditTodo(this.props.project,e,t)},onDeleteTodo:function(e){this.props.onDeleteTodo(this.props.project,e)},onDragOverTodo:function(e){this.state.dragoverTodoId!=e.id&&this.setState({dragoverTodoId:e.id})},onDragLeaveTodo:function(){this.setState({dragoverTodoId:null})},onDragEndTodo:function(){this.setState({dragoverTodoId:null,dragoverDoing:!1})},onMoveTodo:function(e,t){this.props.onMoveTodo(this.props.project,e,t)},render:function(){var e,t=[],r=[];this.props.project.todos.forEach(function(n,i){var a=this.props.project.doing===n.id,l=o.createElement(s,{key:n.id,todo:n,index:i,dragover:this.state.dragoverTodoId===n.id,initialEdit:this.props.editTodoId===n.id,doing:a,onEdit:this.onEditTodo,onToggle:this.onToggleTodo,onDo:this.onDoTodo,onDelete:this.onDeleteTodo,onDragOver:this.onDragOverTodo,onDragLeave:this.onDragLeaveTodo,onDragEnd:this.onDragEndTodo,onMoveTodo:this.onMoveTodo});a?e=l:(n.done?r:t).push(l)}.bind(this));var a;r.length>0&&(a=o.createElement("h2",null,"[DONE] ",o.createElement("span",{className:"control",title:"Delete all completed TODOs",onClick:this.deleteDoneTodos},"-")));var l;return e&&(l=o.createElement("span",{className:"control",title:"Stop doing this",onClick:this.stopDoingTodo},n.STOP)),o.createElement("div",{className:"project"},o.createElement("h2",null,"[DOING] ",l),o.createElement("div",{className:i("dropzone doing-dropzone",{empty:null===this.props.project.doing,dragover:this.state.dragoverDoing}),onDragEnter:this.handleDragEnterDoing,onDragOver:this.handleDragOverDoing,onDragLeave:this.handeDragLeaveDoing,onDrop:this.handleDropDoing},e||"Drop a TODO here when it's in progress"),o.createElement("h2",null,"[TODO] ",o.createElement("span",{className:"control",title:"Add TODO",onClick:this.addTodo},"+")),t,a,r)}});t.exports=r},{Constants:"Constants",TodoItem:"TodoItem",classNames:"classNames",react:"react"}],Reactodo:[function(e,t){"use strict";var o=e("react"),n=e("Page"),s=e("Project"),i=e("Settings"),r=e("Welcome"),a=e("classNames"),l=e("extend"),c=e("partial"),d=e("uuid"),p=e("Constants"),h=p.LOCALSTORAGE_PREFIX,u=p.SETTINGS,m=p.TRIANGLE_DOWN,g=p.TRIANGLE_UP,E=o.createClass({displayName:"Reactodo",getInitialState:function(){return this.getStateForSession(this.props.session)},getStateForSession:function(e){var t=localStorage[h+e],o=t?JSON.parse(t):{},s=l({activeProjectId:null,editTodoId:null,projects:[],showingSessionMenu:!1},o);return s.page=s.projects.length&&null!==s.activeProjectId?n.TODO_LISTS:n.WELCOME,s},componentDidMount:function(){this.updateWindowTitle()},componentWillReceiveProps:function(e){if(this.props.session!==e.session){var t=this.getStateForSession(e.session);e.keepPage&&(t.page===n.WELCOME&&this.state.page===n.TODO_LISTS||t.page===n.TODO_LISTS&&this.state.page===n.WELCOME||(t.page=this.state.page)),this.setState(t)}},componentDidUpdate:function(e){e.session!==this.props.session&&this.updateWindowTitle(),localStorage[h+this.props.session]=JSON.stringify({activeProjectId:this.state.activeProjectId,projects:this.state.projects})},updateWindowTitle:function(){document.title=this.props.session?this.props.session+" - reactodo":"reactodo"},switchSession:function(e,t){t=l({keepPage:!1},t),"undefined"!=typeof history&&history.replaceState&&history.replaceState(e,e+" - reactodo","?"+encodeURIComponent(e)),this.setProps({session:e,keepPage:t.keepPage})},getSessions:function(){return Object.keys(localStorage).filter(function(e){return 0===e.indexOf(h)}).map(function(e){return e.substring(h.length)})},addSession:function(e){localStorage[h+e]=JSON.stringify({activeProjectId:null,projects:[]}),this.forceUpdate()},editSessionName:function(e,t){localStorage[h+t]=localStorage[h+e],this.deleteSession(e),this.props.session===e&&this.switchSession(t,{keepPage:!0})},deleteSession:function(e){delete localStorage[h+e],this.forceUpdate()},setPage:function(e){this.setState({page:e})},setActiveProject:function(e){this.setState({activeProjectId:e,page:n.TODO_LISTS})},addProject:function(e){var t=d();this.state.projects.push({id:t,name:e,doing:null,todos:[]}),this.setState({projects:this.state.projects})},editProjectName:function(e,t){e.name=t,this.setState({projects:this.state.projects})},moveProjectUp:function(e,t){this.state.projects.splice(t-1,0,this.state.projects.splice(t,1)[0]),this.setState({projects:this.state.projects})},moveProjectDown:function(e,t){this.state.projects.splice(t+1,0,this.state.projects.splice(t,1)[0]),this.setState({projects:this.state.projects})},toggleProjectVisible:function(e){e.hidden=!e.hidden,this.setState({projects:this.state.projects})},deleteProject:function(e,t){this.state.projects.splice(t,1);var o=this.state.activeProjectId;0===this.state.projects.length?o=null:o===e.id&&(o=t<=this.state.projects.length-1?this.state.projects[t].id:this.state.projects[t-1].id),this.setState({activeProjectId:o,projects:this.state.projects})},addTodo:function(e){var t=d();e.todos.unshift({id:t,done:!1,text:""}),this.setState({editTodoId:t,projects:this.state.projects})},editTodo:function(e,t,o){t.text=o,this.setState({editTodoId:null,projects:this.state.projects})},moveTodo:function(e,t,o){var n=e.todos[t],s=e.todos[o];n.done!==s.done&&(n.done=s.done),e.todos.splice(o,0,e.todos.splice(t,1)[0]),this.setState({projects:this.state.projects})},toggleTodo:function(e,t){t.done=!t.done,e.doing===t.id&&(e.doing=null),this.setState({projects:this.state.projects})},doTodo:function(e,t){e.doing=t.id,t.done&&(t.done=!1),this.setState({projects:this.state.projects})},stopDoingTodo:function(e){e.doing=null,this.setState({projects:this.state.projects})},deleteTodo:function(e,t){for(var o=0,n=e.todos.length;n>o;o++)if(e.todos[o].id===t.id)return e.todos.splice(o,1),e.doing===t.id&&(e.doing=null),this.setState({projects:this.state.projects})},deleteDoneTodos:function(e){e.todos=e.todos.filter(function(e){return!e.done}),this.setState({projects:this.state.projects})},showSessionMenu:function(){this.setState({showingSessionMenu:!0})},pickSession:function(e,t){t.preventDefault(),t.stopPropagation(),this.hideSessionMenu(),this.switchSession(e,{keepPage:!0})},hideSessionMenu:function(){this.setState({showingSessionMenu:!1})},render:function(){var e,t=[];this.state.page===n.WELCOME?e=o.createElement(r,{session:this.props.session,getSessions:this.getSessions,onSwitchSession:this.switchSession,onShowSettings:c(this.setPage,n.SETTINGS)}):this.state.page===n.SETTINGS&&(e=o.createElement(i,{projects:this.state.projects,session:this.props.session,getSessions:this.getSessions,onSwitchSession:this.switchSession,onAddProject:this.addProject,onAddSession:this.addSession,onEditProjectName:this.editProjectName,onEditSessionName:this.editSessionName,onMoveProjectUp:this.moveProjectUp,onMoveProjectDown:this.moveProjectDown,onToggleProjectVisible:this.toggleProjectVisible,onDeleteProject:this.deleteProject,onDeleteSession:this.deleteSession})),this.state.projects.forEach(function(i){if(!i.hidden){var r=this.state.page===n.TODO_LISTS&&this.state.activeProjectId===i.id;t.push(o.createElement("li",{key:i.id,className:a({active:r}),onClick:!r&&c(this.setActiveProject,i.id)},i.name)),r&&(e=o.createElement(s,{project:i,editTodoId:this.state.editTodoId,onAddTodo:this.addTodo,onEditTodo:this.editTodo,onToggleTodo:this.toggleTodo,onDoTodo:this.doTodo,onStopDoingTodo:this.stopDoingTodo,onDeleteTodo:this.deleteTodo,onDeleteDoneTodos:this.deleteDoneTodos,onMoveTodo:this.moveTodo}))}}.bind(this)),t.length||t.push(" ");var l,d,p=this.getSessions(),h=p.length>1;if(this.state.showingSessionMenu){l=o.createElement("span",{className:"control",onClick:this.hideSessionMenu},this.props.session+" "+g),p.sort(),p.splice(p.indexOf(this.props.session),1);var E=p.map(function(e){var t=e||"(Default)";return o.createElement("div",{className:"menu-item",onClick:c(this.pickSession,e)},t)}.bind(this));d=o.createElement("div",{className:"menu"},E)}else{var f=this.props.session;h&&(f+=" "+m),l=o.createElement("span",{className:a({control:h}),onClick:h&&this.showSessionMenu},f)}return o.createElement("div",{onClick:this.state.showingSessionMenu&&this.hideSessionMenu},o.createElement("h1",null,o.createElement("span",{className:"control",onClick:c(this.setPage,n.WELCOME)},"reactodo")," ",o.createElement("small",{className:"menu-container"},l,d)),o.createElement("div",{className:"tab-bar"},o.createElement("ul",{className:"tabs project-tabs"},t),o.createElement("ul",{className:"tabs app-tabs"},o.createElement("li",{className:a({active:this.state.page===n.SETTINGS}),onClick:c(this.setPage,n.SETTINGS),title:"Settings"},u))),o.createElement("div",{className:"panel"},e))}});t.exports=E},{Constants:"Constants",Page:"Page",Project:"Project",Settings:"Settings",Welcome:"Welcome",classNames:"classNames",extend:"extend",partial:"partial",react:"react",uuid:"uuid"}],Settings:[function(e,t){"use strict";var o=e("react"),n=e("EditInput"),s=e("exportProject"),i=e("exportTextFile"),r=e("partial"),a=e("Constants"),l=a.CHECK,c=a.DOWN_ARROW,d=a.NBSP,p=a.UP_ARROW,h=o.createClass({displayName:"Settings",getInitialState:function(){return{addingProject:!1,addingSession:!1,editingProjectName:null,editingSessionName:null}},addProject:function(e){this.state.addingProject?(this.setState({addingProject:!1}),this.props.onAddProject(e)):this.setState({addingProject:!0})},cancelAddProject:function(){this.setState({addingProject:!1})},editProjectName:function(e,t){this.state.editingProjectName!==e.id?this.setState({editingProjectName:e.id}):(this.setState({editingProjectName:null}),this.props.onEditProjectName(e,t))},cancelEditProjectName:function(){this.setState({editingProjectName:null})},deleteProject:function(e,t){confirm('Are you sure you want to delete "'+e.name+'"?')&&this.props.onDeleteProject(e,t)},sessionNameAlreadyExists:function(e){return-1!=this.props.getSessions().indexOf(e)},addSession:function(e){if(this.state.addingSession){if(this.sessionNameAlreadyExists(e))return alert('A session named "'+e+'" already exists.');this.setState({addingSession:!1}),this.props.onAddSession(e)}else this.setState({addingSession:!0})},cancelAddSession:function(){this.setState({addingSession:!1})},editSessionName:function(e,t){if(this.state.editingSessionName!==e)this.setState({editingSessionName:e});else{if(this.sessionNameAlreadyExists(t)&&t!==e)return alert('A session named "'+t+'" already exists.');this.setState({editingSessionName:null}),t!==e&&this.props.onEditSessionName(e,t)}},cancelEditSessionName:function(){this.setState({editingSessionName:null})},deleteSession:function(e){confirm('Are you sure you want to delete "'+e+'"? All Projects and TODOs will be lost.')&&this.props.onDeleteSession(e),this.forceUpdate()},toggleProjectVisible:function(e){this.props.onToggleProjectVisible(e)},exportProject:function(e){i(s(e),e.name+".todo.txt")},render:function(){var e;e=this.state.addingProject?o.createElement(n,{button:"Add",onSubmit:this.addProject,onCancel:this.cancelAddProject}):o.createElement("span",{className:"control",onClick:this.addProject,title:"Add a project"},"+");var t;this.props.projects.length&&(t=o.createElement("div",null,o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Name"),o.createElement("th",null,"Order"),o.createElement("th",null,"Show?"),o.createElement("th",null,d),o.createElement("th",null,d))),o.createElement("tbody",null,this.props.projects.map(this.renderProject))),o.createElement("p",null,"Click on a project's name to edit it.")));var s;s=this.state.addingSession?o.createElement(n,{button:"Add",onSubmit:this.addSession,onCancel:this.cancelAddSession}):o.createElement("span",{className:"control",onClick:this.addSession,title:"Add a session"},"+");var i=o.createElement("div",null,o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Name"),o.createElement("th",null,"Current?"),o.createElement("th",null,d),o.createElement("th",null,d))),o.createElement("tbody",null,this.props.getSessions().map(this.renderSession))),o.createElement("p",null,"Click on a session's name to edit it."));return o.createElement("div",{className:"settings"},o.createElement("h2",null,"[PROJECTS] ",e),t,o.createElement("h2",null,"[SESSIONS] ",s),i)},renderProject:function(e,t,s){var i,a=0===t,h=t==s.length-1,u=a?o.createElement("span",null,d):o.createElement("span",{className:"control",onClick:r(this.props.onMoveProjectUp,e,t)},p),m=h?o.createElement("span",null,d):o.createElement("span",{className:"control",onClick:r(this.props.onMoveProjectDown,e,t)},c);return i=this.state.editingProjectName===e.id?o.createElement(n,{defaultValue:e.name,button:"Edit",onSubmit:r(this.editProjectName,e),onCancel:this.cancelEditProjectName}):o.createElement("span",{className:"control",onClick:r(this.editProjectName,e)},e.name),o.createElement("tr",{key:e.id},o.createElement("td",null,i),o.createElement("td",{className:"project-order"},u,d,m),o.createElement("td",{className:"project-show"},o.createElement("span",{className:"control",onClick:r(this.props.onToggleProjectVisible,e)},"[",e.hidden?d:l,"]")),o.createElement("td",null,o.createElement("span",{className:"button",onClick:r(this.exportProject,e)},"Export")),o.createElement("td",null,o.createElement("span",{className:"button",onClick:r(this.deleteProject,e,t)},"Delete")))},renderSession:function(e){var t,s=""===e?"(Default)":e,i=e===this.props.session;t=this.state.editingSessionName===e?o.createElement(n,{defaultValue:e,button:"Edit",onSubmit:r(this.editSessionName,e),onCancel:this.cancelEditSessionName}):o.createElement("span",{className:"control",onClick:r(this.editSessionName,e)},s);var a=d,c=d;return i||(a=o.createElement("span",{className:"button",onClick:r(this.props.onSwitchSession,e,{keepPage:!0})},"Switch"),c=o.createElement("span",{className:"button",onClick:r(this.deleteSession,e)},"Delete")),o.createElement("tr",{key:e},o.createElement("td",null,t),o.createElement("td",{className:"session-current"},i?"["+l+"]":d),o.createElement("td",null,a),o.createElement("td",null,c))}});t.exports=h},{Constants:"Constants",EditInput:"EditInput",exportProject:"exportProject",exportTextFile:"exportTextFile",partial:"partial",react:"react"}],TodoItem:[function(e,t){"use strict";var o=e("react"),n=e("classNames"),s=e("normaliseContentEditableHTML"),i=e("partial"),r=e("Constants"),a=r.CHECK,l=r.DRAG_HANDLE,c=r.NBSP,d=o.createClass({displayName:"TodoItem",getInitialState:function(){return{dragging:!1,editing:this.props.initialEdit||!1}},componentDidMount:function(){this.props.initialEdit&&this.refs.text.getDOMNode().focus()},componentDidUpdate:function(e,t){this.state.editing&&!t.editing&&this.refs.text.getDOMNode().focus()},handleTextClick:function(){this.state.editing||this.setState({editing:!0})},handleTextBlur:function(){if(this.state.editing){var e=s(this.refs.text.getDOMNode().innerHTML);e&&(this.refs.text.getDOMNode().innerHTML=e),this.setState({editing:!1}),e?this.props.onEdit(this.props.todo,e):this.props.onDelete(this.props.todo)}},handleDragStart:function(e){e.dataTransfer.setData("text",""+this.props.index),this.setState({dragging:!0})},handleDragEnd:function(){this.setState({dragging:!1}),this.props.onDragEnd()},handleDragEnter:function(e){e.preventDefault()},handleDragOver:function(e){this.state.dragging||(e.preventDefault(),e.dataTransfer.dropEffect="move",this.props.onDragOver(this.props.todo))},handleDrop:function(e){e.preventDefault();var t=Number(e.dataTransfer.getData("text"));this.props.onMoveTodo(t,this.props.index)},handleIE9DragHack:function(e){if(e.preventDefault(),1===window.event.button){var t=e.nativeEvent.target;setTimeout(function(){t.dragDrop()},50)}},render:function(){var e,t=n("todo-item",{"is-todo":!this.props.todo.done,"is-done":this.props.todo.done,"is-doing":this.props.doing,dropzone:!this.props.doing,dragging:this.state.dragging,dragover:this.props.dragover});return this.props.doing||(e=o.createElement("div",{className:"todo-item-handle"},o.createElement("span",{className:"handle",draggable:"true",onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseDown:"undefined"!=typeof window.isIE9&&this.handleIE9DragHack},l))),o.createElement("div",{className:t,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:!this.props.doing&&this.props.onDragLeave,onDrop:!this.props.doing&&this.handleDrop},o.createElement("div",{className:"todo-item-toolbar"},o.createElement("span",{className:"control",onClick:i(this.props.onToggle,this.props.todo)},"[",this.props.todo.done?a:c,"]")),o.createElement("div",{className:"todo-item-text",ref:"text",onClick:this.handleTextClick,onBlur:this.handleTextBlur,contentEditable:this.state.editing,dangerouslySetInnerHTML:{__html:this.props.todo.text||"&nbsp;"}}),e)}});t.exports=d},{Constants:"Constants",classNames:"classNames",normaliseContentEditableHTML:"normaliseContentEditableHTML",partial:"partial",react:"react"}],Welcome:[function(e,t){"use strict";var o=e("react"),n=e("trim"),s=e("Constants"),i=s.DRAG_HANDLE,r=s.ENTER_KEY,a=s.SETTINGS,l=s.STOP,c=o.createClass({displayName:"Welcome",switchSession:function(){var e=n(this.refs.sessionName.getDOMNode().value);e&&this.props.onSwitchSession(e)},onSessionNameKeyDown:function(e){e.which===r&&this.switchSession()},render:function(){var e;e=this.props.session?o.createElement("div",null,o.createElement("p",null,'You are currently using a named session - "',this.props.session,'" - bookmark the current address to easily return to this session again later.'),o.createElement("p",null,"If you'd like to switch to another named session enter a name below:")):o.createElement("div",null,o.createElement("p",null,"You are currently using the default session."),o.createElement("p",null,'If you\'d like to switch to a named session which describes your TODOs (e.g. "work projects" or "personal projects"), enter the name you\'d like to use below:'));var t=this.props.getSessions().filter(function(e){return""!==e});t.sort();var n=t.map(function(e){return o.createElement("option",{value:e})});return o.createElement("div",null,o.createElement("h2",null,"[WELCOME]"),o.createElement("p",null,"Reactodo is a TODO app with 3 fixed categories - DOING, TODO and DONE - and multiple TODO lists, or projects."),o.createElement("p",null,"It's designed and styled after quick, disposable TODO tracking of the type commonly done in a programmer's text editor, but with a few interactive niceties to manage TODOs instead of cut + paste."),o.createElement("p",null,"TODO lists you create are stored locally, so will only be available on this machine and browser."),o.createElement("h2",null,"[GETTING STARTED]"),o.createElement("p",null,"To set up some projects, click the ",o.createElement("span",{className:"control",title:"Settings",onClick:this.props.onShowSettings},a)," icon, here or over in the corner."),o.createElement("h2",null,"[SESSIONS]"),o.createElement("p",null,"Reactodo allows you to have multiple, independent sessions with their own TODO lists."),e,o.createElement("p",null,o.createElement("datalist",{id:"existingSessions"},n),o.createElement("input",{type:"text",ref:"sessionName",list:"existingSessions",onKeyDown:this.onSessionNameKeyDown})," ",o.createElement("span",{className:"button",onClick:this.switchSession},"Switch")),o.createElement("h2",null,"[TIPS]"),o.createElement("ul",null,o.createElement("li",null,o.createElement("p",null,"To ",o.createElement("strong",null,"add a TODO"),", click the ",o.createElement("strong",null,"+")," control beside the project's ",o.createElement("strong",null,"[TODO]")," heading.")),o.createElement("li",null,o.createElement("p",null,"To ",o.createElement("strong",null,"edit a TODO"),", click on its text.")),o.createElement("li",null,o.createElement("p",null,"To ",o.createElement("strong",null,"reorder TODOs"),", drag their ",i," handles and drop in the desired location.")),o.createElement("li",null,o.createElement("p",null,"When ",o.createElement("strong",null,"doing a TODO"),", drag and drop it into the project's ",o.createElement("strong",null,"[DOING]")," section.")),o.createElement("li",null,o.createElement("p",null,"To ",o.createElement("strong",null,"complete a TODO"),", click on its [ ] checkbox.")),o.createElement("li",null,o.createElement("p",null,"To ",o.createElement("strong",null,"stop doing a TODO"),", click the ",o.createElement("strong",null,l)," control beside the project's ",o.createElement("strong",null,"[DOING]")," heading.")),o.createElement("li",null,o.createElement("p",null,"To ",o.createElement("strong",null,"delete a single TODO"),", delete all of its text.")),o.createElement("li",null,o.createElement("p",null,"To ",o.createElement("strong",null,"permanently delete completed TODOs"),", click the ",o.createElement("strong",null,"-")," control beside the project's ",o.createElement("strong",null,"[DONE]")," heading."))))}});t.exports=c},{Constants:"Constants",react:"react",trim:"trim"}],classNames:[function(e,t){"use strict";function o(e,t){var o=[];"undefined"==typeof t?t=e:o.push(e);for(var n in t)t[n]&&o.push(n);return o.join(" ")}t.exports=o},{}],exportProject:[function(e,t){"use strict";function o(e){var t=["[DOING]"],o=["[TODO]"],s=["[DONE]"];return e.todos.forEach(function(i){var r=n(i);e.doing===i.id?t.push(r):i.done?s.push(r):o.push(r)}),t.concat(o).concat(s).join("\n\n")}function n(e){var t="["+(e.done?s.CHECK:" ")+"] ",o=e.text.replace(i,"\n").replace(r," ").replace(a,"\n    ").replace(l,"<").replace(c,">").replace(d,"&");return t+o}var s=e("Constants"),i=/<br>/g,r=/&nbsp;/g,a=/\n/g,l=/&lt;/g,c=/&gt;/g,d=/&amp;/g;t.exports=o},{Constants:"Constants"}],exportTextFile:[function(e,t){"use strict";function o(e,t){var o=document.createElement("a");if("download"in o){o.href="data:text/plain;base64,"+n.encode(e),o.download=t;var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(s)}else{if("undefined"!=typeof window.isIE9)return alert("Not supported in this browser yet :-/");window.location.href="data:application/octet-stream;base64,"+n.encode(e)}}var n=e("Base64");t.exports=o},{Base64:"Base64"}],extend:[function(e,t){"use strict";function o(e){for(var t=1,o=arguments.length;o>t;t++){var s=arguments[t];if(s&&"object"==typeof s)for(var i in s)n.call(s,i)&&(e[i]=s[i])}return e}var n=Object.prototype.hasOwnProperty;t.exports=o},{}],normaliseContentEditableHTML:[function(e,t){"use strict";function o(e){return e=e.replace(n,"").replace(s,"\n").replace(i,"").replace(r,"<br>").replace(a,"")}var n=/<p[^>]*>|<div[^>]*>/g,s=/<br[^>]*>|<\/p>|<\/div>/g,i=/<\/?[^>]+>\s*/g,r=/\n/g,a=/^(?:\s|&nbsp;|<br[^>]*>)*|(?:\s|&nbsp;|<br[^>]*>)*$/g;t.exports=o},{}],partial:[function(e,t){"use strict";function o(e){var t=n.call(arguments,1);return function(){return e.apply(this,t.concat(n.call(arguments)))}}var n=Array.prototype.slice;t.exports=o},{}],trim:[function(e,t){"use strict";function o(e){return e.replace(n,"")}var n=/^\s+|\s+$/g;t.exports=o},{}],uuid:[function(e,t){"use strict";function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function n(){return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()}t.exports=n},{}]},{},[1]);