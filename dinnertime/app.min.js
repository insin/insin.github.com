!function e(t,n,i){function s(r,o){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(a)return a(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return s(n?n:e)},c,c.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(e){"use strict";var t=e("react"),n=e("./DinnerTime"),i=[{id:"a",type:"food",name:"Pizza",time:22,tend:"Rotate"},{id:"b",type:"food",name:"Fish Fingers",time:15,tend:"Flip"},{id:"c",type:"food",name:"Potato Waffles",time:15,tend:"Flip"},{id:"d",type:"food",name:"Rice",time:12,tend:""},{id:"e",type:"food",name:"Beans",time:5,tend:""}];t.render(t.createElement(n,{items:i}),document.getElementById("app"))},{"./DinnerTime":4,react:"react"}],2:[function(e,t){"use strict";t.exports={INPUT:"input",COOKING:"cooking",FINISHED:"finished"}},{}],3:[function(e,t){"use strict";var n=e("react"),i=e("./utils/hhmmss"),s=e("./utils/linebreaks"),a=e("./utils/speech"),r=n.createClass({displayName:"CookingTimer",propTypes:{onFinishedCooking:n.PropTypes.func.isRequired,playStepSound:n.PropTypes.bool,sayInstructions:n.PropTypes.bool,steps:n.PropTypes.array.isRequired},getInitialState:function(){return{timeElapsed:0,timeRemaining:this.props.steps[0].time,timeToNextStep:this.props.steps[0].time-this.props.steps[1].time,stepIndex:0}},componentWillMount:function(){this.announceStep(this.props.steps[0]),this.timer=setInterval(this.tick,1e3)},componentWillUnmount:function(){clearInterval(this.timer)},componentDidUpdate:function(e,t){this.state.stepIndex!=t.stepIndex&&this.announceStep(this.props.steps[this.state.stepIndex]),5==this.state.timeToNextStep&&this.props.playStepSound&&(this.refs.pips.getDOMNode().currentTime=0,this.refs.pips.getDOMNode().play())},announceStep:function(e){this.props.sayInstructions&&a.speak(e.instructions.split("\n").join(". "))},tick:function(){var e=this.state.timeElapsed+1,t=this.state.timeRemaining-1,n=this.state.timeToNextStep-1;return 0===t?this.props.onFinishedCooking():void this.setState(0===n?{timeElapsed:e,timeRemaining:t,timeToNextStep:n,stepIndex:this.state.stepIndex+1}:-1==n?{timeElapsed:e,timeRemaining:t,timeToNextStep:t-this.props.steps[this.state.stepIndex+1].time}:{timeElapsed:e,timeRemaining:t,timeToNextStep:n})},fastForward:function(e){this.setState({timeElapsed:this.state.timeElapsed+e-6,timeRemaining:this.state.timeRemaining-e+6,timeToNextStep:6})},complete:function(){this.setState({timeRemaining:1})},render:function(){var e,t=this.props.steps[this.state.stepIndex],a=this.props.steps[this.state.stepIndex+1];return n.createElement("div",{className:"Wrapper"},n.createElement("div",{className:"Header"},n.createElement("div",{className:"CookingTimer__header"},n.createElement("div",{className:"CookingTimer__title"},"Dinner Time!"),n.createElement("div",{className:"CookingTimer__remaining"},"Time Left: ",i(this.state.timeRemaining)))),n.createElement("div",{className:"Main"},n.createElement("div",{className:"Content"},n.createElement("div",{className:"CookingTimer"},n.createElement("div",{className:"CookingTimer__currentstep"},"[DT-",i(t.time),"] ",s(t.instructions))))),n.createElement("div",{className:"Footer"},n.createElement("div",{className:"CookingTimer__nextstep"},"Next step in ",i(this.state.timeToNextStep),":",n.createElement("div",{className:"CookingTimer__nextinstructions"},s(a.instructions))),e),this.props.playStepSound&&n.createElement("audio",{ref:"pips"},n.createElement("source",{src:"pips.ogg",type:"audio/ogg"})))}});t.exports=r},{"./utils/hhmmss":7,"./utils/linebreaks":9,"./utils/speech":12,react:"react"}],4:[function(e,t){"use strict";var n=e("react/addons"),i=e("./AppStates"),s=e("./calculateSteps"),a=e("./CookingTimer"),r=e("./Finished"),o=e("./utils/makeObj"),l=e("./utils/speech"),p=1,c=n.createClass({displayName:"DinnerTime",getInitialState:function(){return{appState:i.INPUT,items:[{id:p++,type:"food",name:"",time:"",tend:""}],schedule:null,sayInstructions:l.hasSpeech,playStepSound:!0}},onChangeItem:function(e,t){var i=t.target,s=i.name,a=i.type,r={};r[s]="checkbox"==a?{$set:i.checked}:"number"==a?{$set:Number(i.value)}:{$set:i.value},this.setState({items:n.addons.update(this.state.items,o(e,r))})},onChangeOption:function(e){this.setState(o(e.target.name,e.target.checked))},addItem:function(){this.setState({items:n.addons.update(this.state.items,{$push:[{id:p++,type:"food",name:"",time:"",tend:""}]})})},deleteItem:function(e){this.setState({items:n.addons.update(this.state.items,{$splice:[[e,1]]})})},startCooking:function(){this.setState({appState:i.COOKING,steps:s(this.state.items)})},handleFinishedCooking:function(){this.setState({appState:i.FINISHED})},render:function(){return n.createElement("div",{className:"DinnerTime DinnerTime--"+this.state.appState},this.renderContent())},renderContent:function(){return this.state.appState==i.INPUT?this.renderInput():this.state.appState==i.COOKING?n.createElement(a,{steps:this.state.steps,onFinishedCooking:this.handleFinishedCooking,playStepSound:this.state.playStepSound,sayInstructions:this.state.sayInstructions}):this.state.appState==i.FINISHED?n.createElement(r,null):void 0},renderInput:function(){return n.createElement("div",{className:"Wrapper"},n.createElement("div",{className:"Main"},n.createElement("div",{className:"Content"},n.createElement("div",{className:"Input__header"},"Dinner Time!"),n.createElement("p",null,"Enter details of what you need to cook below and Dinner Time! will tell you when to do what."),n.createElement("div",{className:"Input"},n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Cook"),n.createElement("th",null,"For"),n.createElement("th",null,"Tend"),n.createElement("th",null," "))),n.createElement("tbody",null,this.state.items.map(function(e,t){return n.createElement("tr",{key:e.id,onChange:this.onChangeItem.bind(this,t)},n.createElement("td",null,n.createElement("input",{type:"text",name:"name",value:e.name})),n.createElement("td",null,n.createElement("input",{type:"text",size:"3",maxLength:"3",name:"time",min:"0",step:"1",value:e.time})," mins"),n.createElement("td",null,n.createElement("select",{value:e.tend,name:"tend"},n.createElement("option",null),n.createElement("option",null,"Flip"),n.createElement("option",null,"Rotate"))," ",e.tend&&"halfway"),n.createElement("td",null,this.state.items.length>1&&n.createElement("button",{type:"button",onClick:this.deleteItem.bind(this,t),title:"Remove this food"},"× Delete")))}.bind(this)))),n.createElement("button",{type:"button",onClick:this.addItem,title:"Add more food"},"+ Add More"),n.createElement("div",{className:"Input__options"},l.hasSpeech&&n.createElement("div",{className:"Input__option"},n.createElement("label",null,n.createElement("input",{type:"checkbox",name:"sayInstructions",onChange:this.onChangeOption,checked:this.state.sayInstructions})," Say instructions aloud")),n.createElement("div",{className:"Input__option"},n.createElement("label",null,n.createElement("input",{type:"checkbox",name:"playStepSound",onChange:this.onChangeOption,checked:this.state.playStepSound})," Play a sound for new steps")),n.createElement("button",{type:"button",onClick:this.startCooking},"Start Cooking"))))))}});t.exports=c},{"./AppStates":2,"./CookingTimer":3,"./Finished":5,"./calculateSteps":6,"./utils/makeObj":10,"./utils/speech":12,"react/addons":"react/addons"}],5:[function(e,t){"use strict";var n=e("react"),i=e("./utils/speech"),s=n.createClass({displayName:"Finished",componentWillMount:function(){i.speak("It's Dinner Time!")},render:function(){return n.createElement("div",{className:"Wrapper"},n.createElement("div",{className:"Main"},n.createElement("div",{className:"Content"},n.createElement("div",{className:"Finished"},"It's Dinner Time!"))))}});t.exports=s},{"./utils/speech":12,react:"react"}],6:[function(e,t){"use strict";function n(e){e.forEach(function(t){t.tend&&e.push({type:"tend",name:t.name,time:t.time/2,tendType:t.tend})}),e.sort(function(e,t){return t.time-e.time});var t=[],n=null;e.forEach(function(e){return null==n?(n={start:[e.name],flip:[],rotate:[],time:e.time,instructions:null,duration:null},void t.push(n)):(e.time!=n.time&&(n={start:[],flip:[],rotate:[],time:e.time,instructions:null,duration:null},t.push(n)),void("food"==e.type?n.start.push(e.name):"tend"==e.type&&("Flip"==e.tendType?n.flip.push(e.name):"Rotate"==e.tendType&&n.rotate.push(e.name))))});var s=null;return t.forEach(function(e){var t="";e.start.length&&(t+="Start cooking "+i(e.start)+"."),t&&e.flip.length&&(t+="\n"),e.flip.length&&(t+="Flip "+i(e.flip)+"."),t&&e.rotate.length&&(t+="\n"),e.rotate.length&&(t+="Rotate "+i(e.rotate)+"."),e.instructions=t,e.time=Math.floor(60*e.time),null!=s&&(s.duration=s.time-e.time),s=e}),t.push({type:"finish",time:0,instructions:"Eat!"}),t}var i=e("./utils/sentenceJoin");t.exports=n},{"./utils/sentenceJoin":11}],7:[function(e,t){"use strict";function n(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60,s=[];return t>0&&s.push(t),s.push(0===t?n:10>n?"0"+n:n),s.push(10>i?"0"+i:i),s.join(":")}t.exports=n},{}],8:[function(e,t){"use strict";function n(e,t){if(e.length<2)return e;var n=[],i=0,s=e.length;if("function"==typeof t)for(;s>i;i++)0!==i&&n.push(t()),n.push(e[i]);else for(;s>i;i++)0!==i&&n.push(t),n.push(e[i]);return n}t.exports=n},{}],9:[function(e,t){"use strict";function n(e){return s(e.split(/\r\n|\r|\n/g),function(){return i.createElement("br",null)})}var i=e("react"),s=e("./intersperse");t.exports=n},{"./intersperse":8,react:"react"}],10:[function(e,t){"use strict";function n(e,t){var n={};return n[e]=t,n}t.exports=n},{}],11:[function(e,t){"use strict";function n(e){return e=e.map(function(e){return"the "+e}),e.length<=2?e.join(" and "):e.slice(0,-1).join(", ")+", and "+e[e.length-1]}t.exports=n},{}],12:[function(e,t){"use strict";function n(e){i&&speechSynthesis.speak(new SpeechSynthesisUtterance(e))}var i="speechSynthesis"in window;t.exports={hasSpeech:i,speak:n}},{}]},{},[1]);