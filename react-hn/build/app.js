webpackJsonp([1],[function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;n(244);var r=n(92),s=(n(3),n(160)),i=n(157),p=i.render,u=n(236),a=n(143),d=u(r)();p({$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{history:d,routes:a}),_owner:null},document.getElementById("app"))},,,,,,,,function(e,t,n){"use strict";var o=n(24),l=n(86),r="settings",s={autoCollapse:!0,replyLinks:!0,showDead:!1,showDeleted:!1,titleFontSize:18,listSpacing:16,load:function(){var e=l.get(r);e&&o(this,JSON.parse(e))},save:function(){l.set(r,JSON.stringify({autoCollapse:this.autoCollapse,replyLinks:this.replyLinks,showDead:this.showDead,showDeleted:this.showDeleted,titleFontSize:this.titleFontSize,listSpacing:this.listSpacing}))}};e.exports=s},,,,function(e,t,n){"use strict";function o(e,t){s(e).once("value",function(e){t(e.val())})}function l(e,t){function n(n){l.push(n),l.length>=e.length&&t(l)}var l=[];e.forEach(function(e){o(e,n)})}function r(e){return a.child(e)}function s(e){return a.child("item/"+e)}function i(e){return a.child("user/"+e)}function p(){return a.child("updates/items")}var u=n(145),a=new u("https://hacker-news.firebaseio.com/v0");e.exports={fetchItem:o,fetchItems:l,storiesRef:r,itemRef:s,userRef:i,updatesRef:p}},,,,,function(e,t,n){"use strict";var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l=n(3),r=l.createClass({displayName:"Spinner",getDefaultProps:function(){return{size:6,spacing:2}},render:function(){var e=this.props.size+"px",t={height:e,width:e,marginRight:this.props.spacing+"px"};return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"div",key:null,ref:null,props:{className:"bounce1",style:t},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{className:"bounce2",style:t},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{className:"bounce3",style:t},_owner:null}],className:"Spinner",style:{width:3*(Number(this.props.size)+Number(this.props.spacing))+"px"}},_owner:null}}});e.exports=r},,,,,,function(e,t){"use strict";function n(e,t){var n=[];"undefined"==typeof t?t=e:n.push(e);for(var o=Object.keys(t),l=0,r=o.length;r>l;l++)t[o[l]]&&n.push(o[l]);return n.join(" ")}e.exports=n},function(e,t){"use strict";function n(e,t,n){for(var o=Object.keys(t),l=0,r=o.length;r>l;l++)e[o[l]]=t[o[l]];if(n)for(o=Object.keys(n),l=0,r=o.length;r>l;l++)e[o[l]]=n[o[l]];return e}e.exports=n},function(e,t,n){"use strict";function o(e){document.title=e?e+" | "+r:r}var l=n(37),r=l.SITE_TITLE;e.exports=o},,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){for(var t=c[e],n=f[e],o=0,l=t.length;l>o;o++)n[o]=m[t[o]]||null}function s(e,t){return e?JSON.parse(e):t}var i=n(88),p=i.EventEmitter,u=n(12),a=n(24),d=null,c={},m={},f={},h=function(e){function t(n){o(this,t),e.call(this),this.type=n,n in c||(c[n]=[]),n in f||(f[n]=[],r(n)),this.onStorage=this.onStorage.bind(this),this.onStoriesUpdated=this.onStoriesUpdated.bind(this)}return l(t,e),t.prototype.getState=function(){return{ids:c[this.type],stories:f[this.type]}},t.prototype.itemUpdated=function(e,t){f[this.type][t]=e,m[e.id]=e},t.prototype.onStorage=function(e){m[e.key]&&this.emit(e.key)},t.prototype.onStoriesUpdated=function(e){c[this.type]=e.val(),r(this.type),this.emit("update",this.getState())},t.prototype.start=function(){d=u.storiesRef(this.type),d.on("value",this.onStoriesUpdated),window.addEventListener("storage",this.onStorage)},t.prototype.stop=function(){null!==d&&(d.off(),d=null),window.removeEventListener("storage",this.onStorage)},t}(p);a(h,{getItem:function(e){return m[e]||null},loadSession:function(){c=s(window.sessionStorage.idCache,{}),m=s(window.sessionStorage.itemCache,{})},saveSession:function(){window.sessionStorage.idCache=JSON.stringify(c),window.sessionStorage.itemCache=JSON.stringify(m)}}),e.exports=h},function(e,t,n){"use strict";function o(e,t){return t.time-e.time}function l(e){var t=Object.keys(e).map(function(t){return e[t]});return t.sort(o),t}function r(){h.comments=s(f.comments),h.stories=s(f.stories)}function s(e){var t=l(e);return t.splice(d,Math.max(0,t.length-d)).forEach(function(t){delete e[t.id]}),t}function i(e){for(var t=0,n=e.length;n>t;t++){var o=e[t];o.deleted||"undefined"!=typeof y[o.type]&&("comment"===o.type?f.comments[o.id]=o:f.stories[o.id]=o)}r(),w.emit("updates",h)}var p=n(88).EventEmitter,u=n(12),a=n(37),d=a.UPDATES_CACHE_SIZE,c=n(24),m=null,f=null,h={},y={comment:!0,job:!0,poll:!0,story:!0},w=c(new p,{loadSession:function(){var e=window.sessionStorage.updates;f=e?JSON.parse(e):{comments:{},stories:{}},r()},saveSession:function(){window.sessionStorage.updates=JSON.stringify(f)},start:function(){null===m&&(m=u.updatesRef(),m.on("value",function(e){u.fetchItems(e.val(),i)}))},stop:function(){m.off(),m=null},getUpdates:function(){return h},getItem:function(e){return f.comments[e]||f.stories[e]||null},getComment:function(e){return f.comments[e]||null},getStory:function(e){return f.stories[e]||null}});w.off=w.removeListener,e.exports=w},function(e,t){"use strict";e.exports={ITEMS_PER_PAGE:30,SITE_TITLE:"React HN",UPDATES_CACHE_SIZE:500}},function(e,t){"use strict";function n(e,t){return(t||",s").split(",")[1===e?0:1]}e.exports=n},function(e,t,n){(function(e,o){function l(e,t){this._id=e,this._clearFn=t}var r=n(87).nextTick,s=Function.prototype.apply,i=Array.prototype.slice,p={},u=0;t.setTimeout=function(){return new l(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new l(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=u++,o=arguments.length<2?!1:i.call(arguments,1);return p[n]=!0,r(function(){p[n]&&(o?e.apply(null,o):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof o?o:function(e){delete p[e]}}).call(t,n(39).setImmediate,n(39).clearImmediate)},,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=(n(3),n(27)),s=n(44),i=n(84),p=n(8),u=n(17),a=n(38),d={$$typeof:l,type:u,key:null,ref:null,props:o(u.defaultProps,{size:"20"}),_owner:null},c={$$typeof:l,type:"div",key:null,ref:null,props:{children:"Unable to load comment – this usually indicates the author has configured a delay. Trying again in 30 seconds.",className:"Comment__text"},_owner:null},m={fetchAncestors:function(e){var t=this;i.fetchCommentAncestors(e,function(e){t.isMounted()&&t.setState({parent:e.parent,op:e.op})})},renderCommentLoading:function(e){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[(this.props.loadingSpinner||e.delayed)&&d,e.delayed&&c],className:"Comment Comment--loading Comment--level"+this.props.level},_owner:null}},renderCommentDeleted:function(e,t){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:["[deleted] | ",{$$typeof:l,type:"a",key:null,ref:null,props:{children:"view on Hacker News",href:"https://news.ycombinator.com/item?id="+e.id},_owner:null}],className:"Comment__meta"},_owner:null},className:"Comment__content"},_owner:null},className:t.className},_owner:null}},renderError:function(e,t){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:["[error] | comment is ",JSON.stringify(e)," | ",{$$typeof:l,type:"a",key:null,ref:null,props:{children:"view on Hacker News",href:"https://news.ycombinator.com/item?id="+t.id},_owner:null}],className:"Comment__meta"},_owner:null},className:"Comment__content"},_owner:null},className:t.className},_owner:null}},renderCollapseControl:function(e){return{$$typeof:l,type:"span",key:null,ref:null,props:{children:["[",e?"+":"–","]"],className:"Comment__collapse",onClick:this.toggleCollapse,onKeyPress:this.toggleCollapse,tabIndex:"0"},_owner:null}},renderCommentMeta:function(e,t){return e.dead&&!p.showDead?{$$typeof:l,type:"div",key:null,ref:null,props:{children:[t.collapsible&&this.renderCollapseControl(t.collapsed),t.collapsible&&" ","[dead]",t.childCounts&&" | ("+t.childCounts.children+" child"+a(t.childCounts.children,",ren"),t.childCounts&&t.childCounts.newComments>0&&", ",t.childCounts&&t.childCounts.newComments>0&&{$$typeof:l,type:"em",key:null,ref:null,props:{children:[t.childCounts.newComments," new"]},_owner:null},t.childCounts&&")"],className:"Comment__meta"},_owner:null}:{$$typeof:l,type:"div",key:null,ref:null,props:{children:[t.collapsible&&this.renderCollapseControl(t.collapsed),t.collapsible&&" ",{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:e.by,to:"/user/"+e.by,className:"Comment__user"}),_owner:null}," ",{$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{date:1e3*e.time}),_owner:null},t.link&&" | ",t.link&&{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:"link",to:"/comment/"+e.id}),_owner:null},t.parent&&" | ",t.parent&&{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:"parent",to:"/"+this.state.parent.type+"/"+e.parent}),_owner:null},t.op&&" | on: ",t.op&&{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:this.state.op.title,to:"/"+this.state.op.type+"/"+this.state.op.id}),_owner:null},e.dead&&" | [dead]",t.childCounts&&" | ("+t.childCounts.children+" child"+a(t.childCounts.children,",ren"),t.childCounts&&t.childCounts.newComments>0&&", ",t.childCounts&&t.childCounts.newComments>0&&{$$typeof:l,type:"em",key:null,ref:null,props:{children:[t.childCounts.newComments," new"]},_owner:null},t.childCounts&&")"],className:"Comment__meta"},_owner:null}},renderCommentText:function(e,t){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[!e.dead||p.showDead?{$$typeof:l,type:"div",key:null,ref:null,props:{dangerouslySetInnerHTML:{__html:e.text}},_owner:null}:"[dead]",p.replyLinks&&t.replyLink&&!e.dead&&{$$typeof:l,type:"p",key:null,ref:null,props:{children:{$$typeof:l,type:"a",key:null,ref:null,props:{children:"reply",href:"https://news.ycombinator.com/reply?id="+e.id},_owner:null}},_owner:null}],className:"Comment__text"},_owner:null}}};e.exports=m},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=(n(3),n(27)),s=n(44),i=n(8),p=n(38),u=function(){var e=document.createElement("a");return function(t){e.href=t;var n=e.hostname.split(".").slice(-3);return"www"===n[0]&&n.shift(),n.join(".")}}(),a={renderItemMeta:function(e,t){var n=new Date(1e3*e.time);return"job"===e.type?{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{date:n,className:"Item__time"}),_owner:null},className:"Item__meta"},_owner:null}:{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"span",key:null,ref:null,props:{children:[e.score," point",p(e.score)],className:"Item__score"},_owner:null}," ",{$$typeof:l,type:"span",key:null,ref:null,props:{children:["by ",{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:e.by,to:"/user/"+e.by}),_owner:null}],className:"Item__by"},_owner:null}," ",{$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{date:n,className:"Item__time"}),_owner:null}," | ",{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:e.descendants>0?e.descendants+" comment"+p(e.descendants):"discuss",to:"/"+e.type+"/"+e.id}),_owner:null},t],className:"Item__meta"},_owner:null}},renderItemTitle:function(e){var t,n=!!e.url;return t=e.dead?"[dead] "+e.title:n?{$$typeof:l,type:"a",key:null,ref:null,props:{children:e.title,href:e.url},_owner:null}:{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:e.title,to:"/"+e.type+"/"+e.id}),_owner:null},{$$typeof:l,type:"div",key:null,ref:null,props:{children:[t,n&&" ",n&&{$$typeof:l,type:"span",key:null,ref:null,props:{children:["(",u(e.url),")"],className:"Item__host"},_owner:null}],className:"Item__title",style:{fontSize:i.titleFontSize}},_owner:null}}};e.exports=a},function(e,t,n){"use strict";function o(e,t){this.itemId=e.id,this.onCommentsChanged=t,this.children={},this.children[e.id]=[],this.isNew={},this.isCollapsed={}}var l=n(24);l(o.prototype,{getChildCounts:function(e){for(var t=0,n=0,o=[e.id];o.length;){for(var l=[],r=0,s=o.length;s>r;r++){var i=this.children[o[r]];i.length&&l.push.apply(l,i)}for(r=0,s=l.length;s>r;r++)this.isNew[l[r]]&&n++;t+=l.length,o=l}return{children:t,newComments:n}},commentAdded:function(e){e.deleted||(this.children[e.id]=[],this.children[e.parent].push(e.id))},commentDeleted:function(e){if(e){var t=this.children[e.parent];t.splice(t.indexOf(e.id),1)}},toggleCollapse:function(e){this.isCollapsed[e]=!this.isCollapsed[e],this.onCommentsChanged({type:"collapse"})}}),e.exports=o},function(e,t,n){"use strict";function o(e){var t=u.get(e);return t?JSON.parse(t):{lastVisit:null,commentCount:0,maxCommentId:0}}function l(e,t,n){r.call(this,e,t),this.startedLoading=Date.now(),this.parents={},this.commentCount=0,this.newCommentCount=0,this.maxCommentId=0,this.loading=!0,this.expectedComments=e.kids?e.kids.length:0,this.itemDescendantCount=e.descendants;var l=o(e.id);this.lastVisit=l.lastVisit,this.prevMaxCommentId=l.maxCommentId,this.isFirstVisit=null===l.lastVisit,n.cached||this.checkLoadCompletion()}var r=n(56),s=n(8),i=n(144),p=n(24),u=(n(38),n(86));l.loadState=o,l.prototype=p(Object.create(r.prototype),{constructor:l,numberOfCommentsChanged:i(function(){this.onCommentsChanged({type:"number"})},123),firstLoadComplete:function(){this.lastVisit=Date.now(),this.prevMaxCommentId=this.maxCommentId,this.isFirstVisit=!1,this.onCommentsChanged({type:"first_load_complete"})},checkLoadCompletion:function(){this.loading&&this.commentCount>=this.expectedComments&&(this.loading=!1,this.isFirstVisit?this.firstLoadComplete():s.autoCollapse&&this.newCommentCount>0&&this.collapseThreadsWithoutNewComments(),this._storeState())},_storeState:function(){u.set(this.itemId,JSON.stringify({lastVisit:Date.now(),commentCount:this.itemDescendantCount,maxCommentId:this.maxCommentId}))},itemUpdated:function(e){this.itemDescendantCount=e.descendants},commentAdded:function(e){return e.deleted?void(this.loading&&(this.expectedComments--,this.checkLoadCompletion())):(r.prototype.commentAdded.call(this,e),e.dead&&!s.showDead?this.expectedComments--:this.commentCount++,this.loading&&e.kids&&(this.expectedComments+=e.kids.length),this.prevMaxCommentId>0&&e.id>this.prevMaxCommentId&&(!e.dead||s.showDead)&&(this.newCommentCount++,this.isNew[e.id]=!0),e.id>this.maxCommentId&&(this.maxCommentId=e.id),e.parent!==this.itemId&&(this.parents[e.id]=e.parent),this.numberOfCommentsChanged(),void(this.loading&&this.checkLoadCompletion()))},commentDelayed:function(e){this.expectedComments--},commentDeleted:function(e){r.prototype.commentDeleted.call(this,e),this.commentCount--,this.isNew[e.id]&&(this.newCommentCount--,delete this.isNew[e.id]),delete this.parents[e.id],this.numberOfCommentsChanged()},commentDied:function(e){s.showDead||(this.commentCount--,this.isNew[e.id]&&(this.newCommentCount--,delete this.isNew[e.id]))},adjustExpectedComments:function(e){this.expectedComments+=e,this.checkLoadCompletion()},collapseThreadsWithoutNewComments:function(){for(var e=Object.keys(this.isNew),t={},n=0,o=e.length;o>n;n++)for(var l=this.parents[e[n]];l&&!t[l];)t[l]=!0,l=this.parents[l];for(var r={},s=this.children[this.itemId];s.length;){var i=[];for(n=0,o=s.length;o>n;n++){var p=s[n];if(t[p]){var u=this.children[p];u.length&&i.push.apply(i,u)}else this.isNew[p]||(r[p]=!0)}s=i}this.isCollapsed=r,this.onCommentsChanged({type:"collapse"})},markAsRead:function(){this.lastVisit=Date.now(),this.newCommentCount=0,this.prevMaxCommentId=this.maxCommentId,this.isNew={},this._storeState()},dispose:function(){this.numberOfCommentsChanged.cancel(),this._storeState()}}),e.exports=l},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),s=n(22),i=n(56),p=n(12),u=n(8),a=n(54),d=n(23),c=r.createClass({displayName:"Comment",mixins:[a,s],propTypes:{id:r.PropTypes.number.isRequired,level:r.PropTypes.number.isRequired,loadingSpinner:r.PropTypes.bool,threadStore:r.PropTypes.instanceOf(i).isRequired},getDefaultProps:function(){return{loadingSpinner:!1}},getInitialState:function(){return{comment:{}}},componentWillMount:function(){this.bindFirebaseRef()},componentWillUnmount:function(){this.clearDelayTimeout()},componentDidUpdate:function(e,t){if(!this.state.comment)return void this.props.threadStore.adjustExpectedComments(-1);if(t.comment&&t.comment.id){if(!t.comment.deleted&&this.state.comment.deleted&&this.props.threadStore.commentDeleted(this.state.comment),!t.comment.dead&&this.state.comment.dead)this.props.threadStore.commentDied(this.state.comment);else if(t.comment!==this.state.comment&&this.props.threadStore.loading){var n=this.state.comment.kids?this.state.comment.kids.length:0,o=t.comment.kids?t.comment.kids.length:0;this.props.threadStore.adjustExpectedComments(n-o)}}else this.state.comment.id&&(t.comment&&t.comment.delayed&&this.clearDelayTimeout(),this.props.threadStore.commentAdded(this.state.comment)),t.comment&&!t.comment.delayed&&this.state.comment.delayed&&this.props.threadStore.commentDelayed(this.props.id)},bindFirebaseRef:function(){this.bindAsObject(p.itemRef(this.props.id),"comment",this.handleFirebaseRefCancelled),this.timeout&&(this.timeout=null)},handleFirebaseRefCancelled:function(e){this.unbind("comment"),this.timeout=setTimeout(this.bindFirebaseRef,3e4),this.state.comment&&!this.state.comment.delayed&&(this.state.comment.delayed=!0,this.forceUpdate())},clearDelayTimeout:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},toggleCollapse:function(e){e.preventDefault(),this.props.threadStore.toggleCollapse(this.state.comment.id)},render:function(){var e=this.state.comment,t=this.props;if(!e)return this.renderError(e,{id:this.props.id,className:"Comment Comment--error Comment--level"+t.level});if(!e.id)return this.renderCommentLoading(e);if(e.dead&&!u.showDead)return null;if(e.deleted)return u.showDeleted?this.renderCommentDeleted(e,{className:"Comment Comment--deleted Comment--level"+t.level}):null;var n=t.threadStore.isNew[e.id],r=!!t.threadStore.isCollapsed[e.id],s=r&&t.threadStore.getChildCounts(e);r&&n&&(s.newComments=0);var i=d("Comment Comment--level"+t.level,{"Comment--collapsed":r,"Comment--dead":e.dead,"Comment--new":n});return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{collapsible:!0,collapsed:r,link:!0,childCounts:s}),this.renderCommentText(e,{replyLink:!0})],className:"Comment__content"},_owner:null},e.kids&&{$$typeof:l,type:"div",key:null,ref:null,props:{children:e.kids.map(function(e){return{$$typeof:l,type:c,key:e,ref:null,props:o(c.defaultProps,{id:e,level:t.level+1,loadingSpinner:t.loadingSpinner,threadStore:t.threadStore}),_owner:null}}),className:"Comment__kids"},_owner:null}],className:i},_owner:null}}});e.exports=c},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),s=n(27),i=r.createClass({displayName:"Paginator",_onClick:function(e){setTimeout(function(){window.scrollTo(0,0)},0)},render:function(){return 1!==this.props.page||this.props.hasNext?{$$typeof:l,type:"div",key:null,ref:null,props:{children:[this.props.page>1&&{$$typeof:l,type:"span",key:null,ref:null,props:{children:{$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{children:"Prev",to:"/"+this.props.route,query:{page:this.props.page-1},onClick:this._onClick}),_owner:null},className:"Paginator__prev"},_owner:null},this.props.page>1&&this.props.hasNext&&" | ",this.props.hasNext&&{$$typeof:l,type:"span",key:null,ref:null,props:{children:{$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{children:"More",to:"/"+this.props.route,query:{page:this.props.page+1},onClick:this._onClick}),_owner:null},className:"Paginator__next"},_owner:null}],className:"Paginator"},_owner:null}:null}});e.exports=i},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=(n(3),n(27)),s=n(8),i=n(23),p={getNewCommentCount:function(e,t){return null===t.lastVisit?0:e.descendants-t.commentCount},renderListItem:function(e,t){if(e.deleted)return null;var n=this.getNewCommentCount(e,t);return{$$typeof:l,type:"li",key:null,ref:null,props:{children:[this.renderItemTitle(e),this.renderItemMeta(e,n>0&&{$$typeof:l,type:"span",key:null,ref:null,props:{children:[" ","(",{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:[n," new"],to:"/"+e.type+"/"+e.id}),_owner:null},")"],className:"ListItem__newcomments"},_owner:null})],className:i("ListItem",{"ListItem--dead":e.dead}),style:{marginBottom:s.listSpacing}},_owner:null}}};e.exports=p},function(e,t){"use strict";var n={getPageNumber:function(e){return"undefined"==typeof e&&(e=this.props.location.query.page),e&&/^\d+$/.test(e)?Math.max(1,Number(e)):1}};e.exports=n},function(e,t,n){(function(t){"use strict";function o(e,t,n){for(var o=e.id,r=e.parent;p[r]||u[r];){if(n.itemCount++,n.cacheHits++,u[r])return 1===n.itemCount&&(n.parent=u[r]),n.op=u[r],void t(n);p[r]&&(1===n.itemCount&&(n.parent={id:r,type:"comment"}),o=r,r=p[r])}a.getItem(r,function(e){n.itemCount++,p[o]=r,"comment"===e.type&&(p[e.id]=e.parent),l(e,t,n)},n)}function l(e,t,n){1===n.itemCount&&(n.parent=e),"comment"!==e.type?(n.op=e,u[e.id]={id:e.id,type:e.type,title:e.title},t(n)):o(e,t,n)}var r=n(12),s=n(35),i=n(36),p={},u={},a={getItem:function(e,n,o){var l=this.getCachedItem(e);l?(o&&o.cacheHits++,t(n,l)):r.fetchItem(e,n)},getCachedItem:function(e){return s.getItem(e)||i.getItem(e)||null},getCachedStory:function(e){return s.getItem(e)||i.getStory(e)||null},fetchCommentAncestors:function(e,n){var l=Date.now(),r={itemCount:0,cacheHits:0};o(e,function(){r.timeTaken=Date.now()-l,t(n,r)},r)}};e.exports=a}).call(t,n(39).setImmediate)},function(e,t){"use strict";function n(e,t,n){var o=(e-1)*t,l=Math.min(n,o+t),r=n-1>l;return{pageNum:e,startIndex:o,endIndex:l,hasNext:r}}e.exports=n},function(e,t){"use strict";e.exports={get:function(e,t){var n=window.localStorage[e];return"undefined"!=typeof n?n:t},set:function(e,t){window.localStorage[e]=t}}},function(e,t){function n(){u=!1,s.length?p=s.concat(p):a=-1,p.length&&o()}function o(){if(!u){var e=setTimeout(n);u=!0;for(var t=p.length;t;){for(s=p,p=[];++a<t;)s&&s[a].run();a=-1,t=p.length}s=null,u=!1,clearTimeout(e)}}function l(e,t){this.fun=e,this.array=t}function r(){}var s,i=e.exports={},p=[],u=!1,a=-1;i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||u||setTimeout(o,0)},l.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),s=n(27),i=n(138),p=n(35),u=n(36),a=n(8),d={$$typeof:l,type:"img",key:null,ref:null,props:{src:"img/logo.png",width:"16",height:"16",alt:""},_owner:null},c={$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{children:"React HN",to:"/news",activeClassName:"active",className:"App__homelink"}),_owner:null},m={$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{children:"new",to:"/newest",activeClassName:"active"}),_owner:null},f={$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{children:"comments",to:"/newcomments",activeClassName:"active"}),_owner:null},h={$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{children:"show",to:"/show",activeClassName:"active"}),_owner:null},y={$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{children:"ask",to:"/ask",activeClassName:"active"}),_owner:null},w={$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{children:"jobs",to:"/jobs",activeClassName:"active"}),_owner:null},$={$$typeof:l,type:i,key:"settings",ref:null,props:o(i.defaultProps,{}),_owner:null},_={$$typeof:l,type:"a",key:null,ref:null,props:{children:"insin/react-hn",href:"https://github.com/insin/react-hn"},_owner:null},g=r.createClass({displayName:"App",getInitialState:function(){return{showSettings:!1}},componentWillMount:function(){a.load(),p.loadSession(),u.loadSession(),window.addEventListener("beforeunload",this.handleBeforeUnload)},componentWillUnmount:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)},handleBeforeUnload:function(){p.saveSession(),u.saveSession()},toggleSettings:function(e){e.preventDefault(),this.setState({showSettings:!this.state.showSettings})},render:function(){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"div",key:null,ref:null,props:{children:[d," ",c," ",m," | ",f," "," | ",h," | ",y," | ",w,{$$typeof:l,type:"a",key:null,ref:null,props:{children:this.state.showSettings?"hide settings":"settings",className:"App__settings",tabIndex:"0",onClick:this.toggleSettings,onKeyPress:this.toggleSettings},_owner:null},this.state.showSettings&&$],className:"App__header"},_owner:null},{$$typeof:l,type:"div",key:null,ref:null,props:{children:this.props.children,className:"App__content"},_owner:null},{$$typeof:l,type:"div",key:null,ref:null,props:{children:["react-hn v1.4.5 | ",_],className:"App__footer"},_owner:null}],className:"App__wrap"},_owner:null},className:"App",onClick:this.state.showSettings&&this.toggleSettings},_owner:null}}});e.exports=g},function(e,t,n){"use strict";var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l=n(3),r=n(8),s=n(54),i=n(23),p=l.createClass({displayName:"DisplayComment",mixins:[s],propTypes:{comment:l.PropTypes.object.isRequired},getInitialState:function(){return{op:{},parent:{type:"comment"}}},componentWillMount:function(){this.fetchAncestors(this.props.comment)},render:function(){if(this.props.comment.deleted)return null;if(this.props.comment.dead&&!r.showDead)return null;var e=this.props.comment,t=i("Comment Comment--level0",{"Comment--dead":e.dead});return{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{link:!0,parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!==this.state.op.id,op:!!this.state.op.id}),this.renderCommentText(e,{replyLink:!1})],className:"Comment__content"},_owner:null},className:t},_owner:null}}});e.exports=p},function(e,t,n){"use strict";var o=n(3),l=n(57),r=n(55),s=n(82),i=o.createClass({displayName:"DisplayListItem",mixins:[r,s],propTypes:{item:o.PropTypes.object.isRequired},componentWillMount:function(){this.threadState=l.loadState(this.props.item.id)},render:function(){return this.renderListItem(this.props.item,this.threadState)}});e.exports=i},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function l(e,t,n){return 1===e?t:e+" "+t+"s"}var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,s=n(3),i=n(22),p=n(44),u=n(12),a=n(57),d=n(84),c=n(80),m=n(137),f=n(17),h=n(55),y=n(23),w=n(25),$={$$typeof:r,type:"div",key:null,ref:null,props:{children:{$$typeof:r,type:f,key:null,ref:null,props:o(f.defaultProps,{size:"20"}),_owner:null},className:"Item Item--loading"},_owner:null},_=s.createClass({displayName:"Item",mixins:[h,i],getInitialState:function(){return{item:d.getCachedStory(Number(this.props.params.id))||{}}},componentWillMount:function(){this.bindAsObject(u.itemRef(this.props.params.id),"item"),this.state.item.id&&(this.threadStore=new a(this.state.item,this.handleCommentsChanged,{cached:!0}),w(this.state.item.title)),window.addEventListener("beforeunload",this.handleBeforeUnload)},componentWillUnmount:function(){this.threadStore&&this.threadStore.dispose(),window.removeEventListener("beforeunload",this.handleBeforeUnload)},componentWillReceiveProps:function(e){if(this.props.params.id!==e.params.id){this.threadStore.dispose(),this.threadStore=null,this.unbind("item");var t=d.getCachedStory(Number(e.params.id));t&&(this.threadStore=new a(t,this.handleCommentsChanged,{cached:!0}),w(t.title)),this.bindAsObject(u.itemRef(e.params.id),"item"),this.setState({item:t||{}})}},componentWillUpdate:function(e,t){!this.state.item.id&&t.item.id&&w(t.item.title)},componentDidUpdate:function(e,t){if(t.item.id!==this.state.item.id)this.threadStore&&this.threadStore.itemId===this.state.item.id||(this.threadStore=new a(this.state.item,this.handleCommentsChanged,{cached:!1}),w(this.state.item.title),this.forceUpdate());else if(t.item!==this.state.item){if(this.threadStore.loading){var n=this.state.item.kids?this.state.item.kids.length:0,o=t.item.kids?t.item.kids.length:0,l=n-o;0!==l&&this.threadStore.adjustExpectedComments(l)}this.threadStore.itemUpdated(this.state.item)}},handleBeforeUnload:function(){this.threadStore&&this.threadStore.dispose()},handleCommentsChanged:function(e){this.forceUpdate()},autoCollapse:function(e){e.preventDefault(),this.threadStore.collapseThreadsWithoutNewComments()},markAsRead:function(e){e.preventDefault(),this.threadStore.markAsRead(),this.forceUpdate()},render:function(){var e=this.state,t=e.item,n=this.threadStore;return t.id&&n?{$$typeof:r,type:"div",key:null,ref:null,props:{children:[{$$typeof:r,type:"div",key:null,ref:null,props:{children:[this.renderItemTitle(t),this.renderItemMeta(t,null!==n.lastVisit&&n.newCommentCount>0&&{$$typeof:r,type:"span",key:null,ref:null,props:{children:[" ","(",{$$typeof:r,type:"em",key:null,ref:null,props:{children:[n.newCommentCount," new"]},_owner:null}," in the last ",{$$typeof:r,type:p,key:null,ref:null,props:o(p.defaultProps,{date:n.lastVisit,formatter:l}),_owner:null},") | ",{$$typeof:r,type:"span",key:null,ref:null,props:{children:"auto collapse",className:"control",tabIndex:"0",onClick:this.autoCollapse,onKeyPress:this.autoCollapse,title:"Collapse threads without new comments"
},_owner:null}," | ",{$$typeof:r,type:"span",key:null,ref:null,props:{children:"mark as read",className:"control",tabIndex:"0",onClick:this.markAsRead,onKeyPress:this.markAsRead},_owner:null}]},_owner:null}),t.text&&{$$typeof:r,type:"div",key:null,ref:null,props:{children:{$$typeof:r,type:"div",key:null,ref:null,props:{dangerouslySetInnerHTML:{__html:t.text}},_owner:null},className:"Item__text"},_owner:null},"poll"===t.type&&{$$typeof:r,type:"div",key:null,ref:null,props:{children:t.parts.map(function(e){return{$$typeof:r,type:m,key:e,ref:null,props:o(m.defaultProps,{id:e}),_owner:null}}),className:"Item__poll"},_owner:null}],className:"Item__content"},_owner:null},t.kids&&{$$typeof:r,type:"div",key:null,ref:null,props:{children:t.kids.map(function(e,t){return{$$typeof:r,type:c,key:e,ref:null,props:o(c.defaultProps,{id:e,level:0,loadingSpinner:0===t,threadStore:n}),_owner:null}}),className:"Item__kids"},_owner:null}],className:y("Item",{"Item--dead":t.dead})},_owner:null}:$}});e.exports=_},function(e,t,n){"use strict";var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l=n(3),r={$$typeof:o,type:"h2",key:null,ref:null,props:{children:"Not found"},_owner:null},s=l.createClass({displayName:"NotFound",render:function(){return r}});e.exports=s},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),s=n(22),i=n(56),p=n(12),u=n(8),a=n(36),d=n(80),c=n(54),m=n(23),f=n(25),h=r.createClass({displayName:"PermalinkedComment",mixins:[c,s],getDefaultProps:function(){return{level:0,loadingSpinner:!0}},getInitialState:function(){return{comment:a.getComment(this.props.params.id)||{},parent:{type:"comment"},op:{}}},componentWillMount:function(){this.bindAsObject(p.itemRef(this.props.params.id),"comment"),this.state.comment.id&&this.commentLoaded(this.state.comment)},componentWillReceiveProps:function(e){if(e.params.id!==this.props.params.id){var t=a.getComment(e.params.id);t&&(this.commentLoaded(t),this.setState({comment:t})),this.unbind("comment"),this.bindAsObject(p.itemRef(e.params.id),"comment")}},componentWillUpdate:function(e,t){if(t.comment&&this.state.comment.id!==t.comment.id){if(!t.comment.deleted&&"comment"!==t.comment.type)return void this.context.router.replaceWith(t.comment.type,{id:t.comment.id});this.threadStore&&this.threadStore.itemId===t.comment.id||this.commentLoaded(t.comment)}},commentLoaded:function(e){this.setTitle(e),e.deleted||(this.threadStore=new i(e,this.handleCommentsChanged),this.fetchAncestors(e))},setTitle:function(e){if(e.deleted)return f("Deleted comment");var t="Comment by "+e.by;this.state.op.id&&(t+=" | "+this.state.op.title),f(t)},handleCommentsChanged:function(e){"collapse"===e.type&&this.forceUpdate()},render:function(){var e=this.state.comment;if(!e)return this.renderError(e,{id:this.props.params.id,className:"Comment Comment--level0 Comment--error"});if(!e.id)return this.renderCommentLoading(e);if(e.deleted)return this.renderCommentDeleted(e,{className:"Comment Comment--level0 Comment--deleted"});if("comment"!==e.type)return null;var t=m("PermalinkedComment Comment Comment--level0",{"Comment--dead":e.dead}),n=this.threadStore;return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!==this.state.op.id,op:!!this.state.op.id}),(!e.dead||u.showDead)&&this.renderCommentText(e,{replyLink:!0})],className:"Comment__content"},_owner:null},e.kids&&{$$typeof:l,type:"div",key:null,ref:null,props:{children:e.kids.map(function(e,t){return{$$typeof:l,type:d,key:e,ref:null,props:o(d.defaultProps,{id:e,level:0,loadingSpinner:0===t,threadStore:n}),_owner:null}}),className:"Comment__kids"},_owner:null}],className:t},_owner:null}}});e.exports=h},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),s=n(22),i=n(12),p=n(17),u=n(38),a={$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:p,key:null,ref:null,props:o(p.defaultProps,{size:"20"}),_owner:null},className:"PollOption PollOption--loading"},_owner:null},d=r.createClass({displayName:"PollOption",mixins:[s],getInitialState:function(){return{pollopt:{}}},componentWillMount:function(){this.bindAsObject(i.itemRef(this.props.id),"pollopt")},render:function(){var e=this.state.pollopt;return e.id?{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"div",key:null,ref:null,props:{children:e.text,className:"PollOption__text"},_owner:null},{$$typeof:l,type:"div",key:null,ref:null,props:{children:[e.score," point",u(e.score)],className:"PollOption__score"},_owner:null}],className:"PollOption"},_owner:null}:a}});e.exports=d},function(e,t,n){"use strict";var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l=n(3),r=n(8),s={$$typeof:o,type:"p",key:null,ref:null,props:{children:"Automatically collapse comment threads without new comments on page load."},_owner:null},i={$$typeof:o,type:"p",key:null,ref:null,props:{children:'Show "reply" links to Hacker News'},_owner:null},p={$$typeof:o,type:"p",key:null,ref:null,props:{children:"Show items flagged as dead."},_owner:null},u={$$typeof:o,type:"p",key:null,ref:null,props:{children:"Show comments flagged as deleted in threads."},_owner:null},a={$$typeof:o,type:"td",key:null,ref:null,props:{children:{$$typeof:o,type:"label",key:null,ref:null,props:{children:"title font size:",htmlFor:"titleFontSize"},_owner:null}},_owner:null},d={$$typeof:o,type:"td",key:null,ref:null,props:{children:{$$typeof:o,type:"label",key:null,ref:null,props:{children:"list spacing:",htmlFor:"listSpacing"},_owner:null}},_owner:null},c=l.createClass({displayName:"Settings",componentDidMount:function(){this.refs.container.focus()},onChange:function(e){var t=e.target;"checkbox"===t.type?r[t.name]=t.checked:"number"===t.type&&t.value&&(r[t.name]=t.value),this.forceUpdate(),r.save()},onClick:function(e){e.stopPropagation()},render:function(){return l.createElement("div",{ref:"container",className:"Settings",tabIndex:"-1",onClick:this.onClick},{$$typeof:o,type:"form",key:null,ref:null,props:{children:[{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"autoCollapse",id:"autoCollapse",checked:r.autoCollapse},_owner:null}," auto collapse"],htmlFor:"autoCollapse"},_owner:null},s],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"replyLinks",id:"replyLinks",checked:r.replyLinks},_owner:null}," show reply links"],htmlFor:"replyLinks"},_owner:null},i],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"showDead",id:"showDead",checked:r.showDead},_owner:null}," show dead"],htmlFor:"showDead"},_owner:null},p],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"showDeleted",id:"showDeleted",checked:r.showDeleted},_owner:null}," show deleted"],htmlFor:"showDeleted"},_owner:null},u],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"table",key:null,ref:null,props:{children:{$$typeof:o,type:"tbody",key:null,ref:null,props:{children:[{$$typeof:o,type:"tr",key:null,ref:null,props:{children:[a,{$$typeof:o,type:"td",key:null,ref:null,props:{children:{$$typeof:o,type:"input",key:null,ref:null,props:{type:"number",min:"13.333",step:"1",name:"titleFontSize",id:"titleFontSize",value:r.titleFontSize},_owner:null}},_owner:null}]},_owner:null},{$$typeof:o,type:"tr",key:null,ref:null,props:{children:[d,{$$typeof:o,type:"td",key:null,ref:null,props:{children:{$$typeof:o,type:"input",key:null,ref:null,props:{type:"number",min:"0",name:"listSpacing",id:"listSpacing",value:r.listSpacing},_owner:null}},_owner:null}]},_owner:null}]},_owner:null}},_owner:null},className:"Settings__setting"},_owner:null}],onChange:this.onChange},_owner:null})}});e.exports=c},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),s=n(35),i=n(83),p=n(81),u=n(17),a=n(140),d=n(8),c=n(37),m=c.ITEMS_PER_PAGE,f=n(85),h=n(25),y={$$typeof:l,type:u,key:null,ref:null,props:o(u.defaultProps,{}),_owner:null},w=r.createClass({displayName:"Stories",mixins:[i],propTypes:{limit:r.PropTypes.number.isRequired,route:r.PropTypes.string.isRequired,type:r.PropTypes.string.isRequired,title:r.PropTypes.string},getInitialState:function(){return{ids:[],limit:this.props.limit,stories:[]}},componentWillMount:function(){h(this.props.title),this.store=new s(this.props.type),this.store.addListener("update",this.handleUpdate),this.store.start(),this.setState(this.store.getState())},componentWillUnmount:function(){this.store.removeListener("update",this.handleUpdate),this.store.stop(),this.store=null},handleUpdate:function(e){this.isMounted()&&(e.limit=e.ids.length,this.setState(e))},render:function(){var e=f(this.getPageNumber(),m,this.state.limit);if(0===this.state.stories.length&&0===this.state.ids.length){for(var t=[],n=e.startIndex;n<e.endIndex;n++)t.push({$$typeof:l,type:"li",key:n,ref:null,props:{children:y,className:"ListItem ListItem--loading",style:{marginBottom:d.listSpacing}},_owner:null});return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"ol",key:null,ref:null,props:{children:t,className:"Items__list",start:e.startIndex+1},_owner:null},{$$typeof:l,type:p,key:null,ref:null,props:o(p.defaultProps,{route:this.props.route,page:e.pageNum,hasNext:e.hasNext}),_owner:null}],className:"Items Items--loading"},_owner:null}}return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"ol",key:null,ref:null,props:{children:this.renderItems(e.startIndex,e.endIndex),className:"Items__list",start:e.startIndex+1},_owner:null},{$$typeof:l,type:p,key:null,ref:null,props:o(p.defaultProps,{route:this.props.route,page:e.pageNum,hasNext:e.hasNext}),_owner:null}],className:"Items"},_owner:null}},renderItems:function(e,t){for(var n=[],r=e;t>r;r++){var s=this.state.stories[r],i=this.state.ids[r];i?n.push({$$typeof:l,type:a,key:i,ref:null,props:o(a.defaultProps,{id:i,index:r,cachedItem:s,store:this.store}),_owner:null}):n.push({$$typeof:l,type:a,key:null,ref:null,props:o(a.defaultProps,{cachedItem:s,store:this.store}),_owner:null})}return n}});e.exports=w},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),s=n(22),i=n(57),p=n(12),u=n(8),a=n(35),d=n(55),c=n(82),m=n(17),f={$$typeof:l,type:m,key:null,ref:null,props:o(m.defaultProps,{}),_owner:null},h=r.createClass({displayName:"StoryListItem",mixins:[d,c,s],propTypes:{store:r.PropTypes.instanceOf(a).isRequired,id:r.PropTypes.number,cachedItem:r.PropTypes.object,index:r.PropTypes.number},getDefaultProps:function(){return{id:null,cachedItem:null,index:null}},getInitialState:function(){return{item:this.props.cachedItem||{}}},componentWillMount:function(){null!=this.props.id?this.initLiveItem(this.props):null!=this.props.cachedItem&&(this.threadState=i.loadState(this.state.item.id))},componentWillUnmount:function(){null!=this.props.id&&this.props.store.removeListener(this.props.id,this.updateThreadState)},componentWillReceiveProps:function(e){null==this.props.id&&null!=e.id&&this.initLiveItem(e)},componentWillUpdate:function(e,t){this.state.item!==t.item&&null!=t.item&&this.props.store.itemUpdated(t.item,this.props.index)},initLiveItem:function(e){this.bindAsObject(p.itemRef(e.id),"item"),this.threadState=i.loadState(e.id),this.props.store.addListener(e.id,this.updateThreadState)},updateThreadState:function(){this.threadState=i.loadState(this.props.id),this.forceUpdate()},render:function(){return this.state.item&&this.state.item.id?this.renderListItem(this.state.item,this.threadState):{$$typeof:l,type:"li",key:null,ref:null,props:{children:f,className:"ListItem ListItem--loading",style:{marginBottom:u.listSpacing}},_owner:null}}});e.exports=h},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function l(e){return!e.dead}function r(e){return p.showDead?e:{comments:e.comments.filter(l),stories:e.stories.filter(l)}}var s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(3),p=n(8),u=n(36),a=n(133),d=n(132),c=n(81),m=n(17),f=n(83),h=n(37),y=h.ITEMS_PER_PAGE,w=n(85),$=n(25),_={$$typeof:s,type:"div",key:null,ref:null,props:{children:{$$typeof:s,type:m,key:null,ref:null,props:o(m.defaultProps,{size:"20"}),_owner:null},className:"Updates Updates--loading"},_owner:null},g=i.createClass({displayName:"Updates",mixins:[f],getInitialState:function(){return r(u.getUpdates())},componentWillMount:function(){this.setTitle(this.props.type),u.start(),u.on("updates",this.handleUpdates)},componentWillUnmount:function(){u.off("updates",this.handleUpdates),u.stop()},componentWillReceiveProps:function(e){this.props.type!==e.type&&this.setTitle(e.type)},setTitle:function(e){$("New "+("comments"===e?"Comments":"Links"))},handleUpdates:function(e){this.isMounted()&&this.setState(r(e))},render:function(){var e="comments"===this.props.type?this.state.comments:this.state.stories;if(0===e.length)return _;var t=w(this.getPageNumber(),y,e.length);return"comments"===this.props.type?{$$typeof:s,type:"div",key:null,ref:null,props:{children:[e.slice(t.startIndex,t.endIndex).map(function(e){return{$$typeof:s,type:d,key:e.id,ref:null,props:o(d.defaultProps,{id:e.id,comment:e}),_owner:null}}),{$$typeof:s,type:c,key:null,ref:null,props:o(c.defaultProps,{route:"newcomments",page:t.pageNum,hasNext:t.hasNext}),_owner:null}],className:"Updates Comments"},_owner:null}:{$$typeof:s,type:"div",key:null,ref:null,props:{children:[{$$typeof:s,type:"ol",key:null,ref:null,props:{children:e.slice(t.startIndex,t.endIndex).map(function(e){return{$$typeof:s,type:a,key:e.id,ref:null,props:o(a.defaultProps,{item:e}),_owner:null}}),className:"Items__list",start:t.startIndex+1},_owner:null},{$$typeof:s,type:c,key:null,ref:null,props:o(c.defaultProps,{route:"newest",page:t.pageNum,hasNext:t.hasNext}),_owner:null}],className:"Updates Items"},_owner:null}}});e.exports=g},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),s=n(22),i=n(44),p=n(12),u=n(17),a=n(25),d={$$typeof:l,type:u,key:null,ref:null,props:o(u.defaultProps,{size:"20"}),_owner:null},c={$$typeof:l,type:"dt",key:null,ref:null,props:{children:"Created"},_owner:null},m={$$typeof:l,type:"dt",key:null,ref:null,props:{children:"Karma"},_owner:null},f={$$typeof:l,type:"dt",key:null,ref:null,props:{children:"Delay"},_owner:null},h={$$typeof:l,type:"dt",key:null,ref:null,props:{children:"About"},_owner:null},y=r.createClass({displayName:"UserProfile",mixins:[s],getInitialState:function(){return{user:{}}},componentWillMount:function(){this.bindAsObject(p.userRef(this.props.params.id),"user")},componentWillUpdate:function(e,t){this.state.user.id!==t.user.id&&a("Profile: "+t.user.id)},componentWillReceiveProps:function(e){this.props.params.id!==e.params.id&&(this.unbind("user"),this.bindAsObject(p.userRef(e.params.id),"user"))},render:function(){var e=this.state.user;if(!e.id)return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"h4",key:null,ref:null,props:{children:this.props.params.id},_owner:null},d],className:"UserProfile UserProfile--loading"},_owner:null};var t=new Date(1e3*e.created);return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"h4",key:null,ref:null,props:{children:e.id},_owner:null},{$$typeof:l,type:"dl",key:null,ref:null,props:{children:[c,{$$typeof:l,type:"dd",key:null,ref:null,props:{children:[{$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{date:t}),_owner:null}," (",t.toDateString(),")"]},_owner:null},m,{$$typeof:l,type:"dd",key:null,ref:null,props:{children:e.karma},_owner:null},f,{$$typeof:l,type:"dd",key:null,ref:null,props:{children:e.delay},_owner:null},e.about&&h,e.about&&{$$typeof:l,type:"dd",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{className:"UserProfile__about",dangerouslySetInnerHTML:{__html:e.about}},_owner:null}},_owner:null}]},_owner:null}],className:"UserProfile"},_owner:null}}});e.exports=y},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function l(e,t,n,o){return u.createClass({render:function(){return u.createElement(h,s({},this.props,{key:e,route:e,type:t,limit:n,title:o}))}})}function r(e){return u.createClass({render:function(){return u.createElement(y,s({},this.props,{key:e,type:e}))}})}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,p=n(158),u=n(3),a=n(159),d=n(131),c=n(134),m=n(135),f=n(136),h=n(139),y=n(141),w=n(142),$=l("ask","askstories",200,"Ask"),_=r("comments"),g=l("jobs","jobstories",200,"Jobs"),k=l("newest","newstories",500,"New Links"),C=l("show","showstories",200,"Show"),v=l("news","topstories",500);e.exports={$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{children:[{$$typeof:i,type:p,key:null,ref:null,props:o(p.defaultProps,{component:v}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"news",component:v}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"newest",component:k}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"show",component:C}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"ask",component:$}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"jobs",component:g}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"item/:id",component:c}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"job/:id",component:c}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"poll/:id",component:c}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"story/:id",component:c}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"comment/:id",component:f}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"newcomments",component:_}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"user/:id",component:w}),_owner:null},{$$typeof:i,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"*",component:m}),_owner:null}],path:"/",component:d}),_owner:null}},function(e,t){"use strict";function n(e,t,n){var o,l,r,s,i,p=function a(){var p=Date.now()-s;t>p&&p>0?o=setTimeout(a,t-p):(o=null,n||(i=e.apply(r,l),o||(r=l=null)))},u=function(){r=this,l=arguments,s=Date.now();var u=n&&!o;return o||(o=setTimeout(p,t)),u&&(i=e.apply(r,l),r=l=null),i};return u.cancel=function(){o&&clearTimeout(o)},u}e.exports=n}]);
//# sourceMappingURL=app.js.map