!function e(t,n,s){function i(a,o){if(!n[a]){if(!t[a]){var m="function"==typeof require&&require;if(!o&&m)return m(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,s)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<s.length;a++)i(s[a]);return i}({1:[function(e,t,n){"use strict";var s=e("react"),i=e("reactfire"),r=e("./stores/CommentThreadStore"),a=e("./services/HNService"),o=e("./stores/SettingsStore"),m=e("./mixins/CommentMixin"),l=e("./utils/buildClassName"),c=s.createClass({displayName:"Comment",mixins:[m,i],propTypes:{id:s.PropTypes.number.isRequired,level:s.PropTypes.number.isRequired,loadingSpinner:s.PropTypes.bool,threadStore:s.PropTypes.instanceOf(r).isRequired},getDefaultProps:function(){return{loadingSpinner:!1}},getInitialState:function(){return{comment:{}}},componentWillMount:function(){this.bindFirebaseRef()},componentWillUnmount:function(){this.clearDelayTimeout()},componentDidUpdate:function(e,t){if(!this.state.comment)return void this.props.threadStore.adjustExpectedComments(-1);if(t.comment&&t.comment.id){if(!t.comment.deleted&&this.state.comment.deleted&&this.props.threadStore.commentDeleted(this.state.comment),!t.comment.dead&&this.state.comment.dead)this.props.threadStore.commentDied(this.state.comment);else if(t.comment!==this.state.comment&&this.props.threadStore.loading){var n=this.state.comment.kids?this.state.comment.kids.length:0,s=t.comment.kids?t.comment.kids.length:0;this.props.threadStore.adjustExpectedComments(n-s)}}else this.state.comment.id&&(t.comment&&t.comment.delayed&&this.clearDelayTimeout(),this.props.threadStore.commentAdded(this.state.comment)),t.comment&&!t.comment.delayed&&this.state.comment.delayed&&this.props.threadStore.commentDelayed(this.props.id)},bindFirebaseRef:function(){this.bindAsObject(a.itemRef(this.props.id),"comment",this.handleFirebaseRefCancelled),this.timeout&&(this.timeout=null)},handleFirebaseRefCancelled:function(e){this.unbind("comment"),this.timeout=setTimeout(this.bindFirebaseRef,3e4),this.state.comment&&!this.state.comment.delayed&&(this.state.comment.delayed=!0,this.forceUpdate())},clearDelayTimeout:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},toggleCollapse:function(e){e.preventDefault(),this.props.threadStore.toggleCollapse(this.state.comment.id)},render:function(){var e=this.state.comment,t=this.props;if(!e)return this.renderError(e,{id:this.props.id,className:"Comment Comment--error Comment--level"+t.level});if(!e.id)return this.renderCommentLoading(e);if(e.dead&&!o.showDead)return null;if(e.deleted)return o.showDeleted?this.renderCommentDeleted(e,{className:"Comment Comment--deleted Comment--level"+t.level}):null;var n=t.threadStore.isNew[e.id],i=!!t.threadStore.isCollapsed[e.id],r=i&&t.threadStore.getChildCounts(e);i&&n&&(r.newComments=0);var a=l("Comment Comment--level"+t.level,{"Comment--collapsed":i,"Comment--dead":e.dead,"Comment--new":n});return s.createElement("div",{className:a},s.createElement("div",{className:"Comment__content"},this.renderCommentMeta(e,{collapsible:!0,collapsed:i,link:!0,childCounts:r}),this.renderCommentText(e,{replyLink:!0})),e.kids&&s.createElement("div",{className:"Comment__kids"},e.kids.map(function(e){return s.createElement(c,{key:e,id:e,level:t.level+1,loadingSpinner:t.loadingSpinner,threadStore:t.threadStore})})))}});t.exports=c},{"./mixins/CommentMixin":15,"./services/HNService":19,"./stores/CommentThreadStore":20,"./stores/SettingsStore":22,"./utils/buildClassName":26,react:"react",reactfire:"reactfire"}],2:[function(e,t,n){"use strict";var s=e("react"),i=e("./stores/SettingsStore"),r=e("./mixins/CommentMixin"),a=e("./utils/buildClassName"),o=s.createClass({displayName:"DisplayComment",mixins:[r],propTypes:{comment:s.PropTypes.object.isRequired},getInitialState:function(){return{op:{},parent:{type:"comment"}}},componentWillMount:function(){this.fetchAncestors(this.props.comment)},render:function(){if(this.props.comment.deleted)return null;if(this.props.comment.dead&&!i.showDead)return null;var e=this.props.comment,t=a("Comment Comment--level0",{"Comment--dead":e.dead});return s.createElement("div",{className:t},s.createElement("div",{className:"Comment__content"},this.renderCommentMeta(e,{link:!0,parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!=this.state.op.id,op:!!this.state.op.id}),this.renderCommentText(e,{replyLink:!1})))}});t.exports=o},{"./mixins/CommentMixin":15,"./stores/SettingsStore":22,"./utils/buildClassName":26,react:"react"}],3:[function(e,t,n){"use strict";var s=e("react"),i=e("./stores/StoryCommentThreadStore"),r=e("./mixins/ItemMixin"),a=e("./mixins/ListItemMixin"),o=s.createClass({displayName:"DisplayListItem",mixins:[r,a],propTypes:{item:s.PropTypes.object.isRequired},componentWillMount:function(){this.threadState=i.loadState(this.props.item.id)},render:function(){return this.renderListItem(this.props.item,this.threadState)}});t.exports=o},{"./mixins/ItemMixin":16,"./mixins/ListItemMixin":17,"./stores/StoryCommentThreadStore":23,react:"react"}],4:[function(e,t,n){"use strict";function s(e,t,n){return 1==e?t:e+" "+t+"s"}var i=e("react"),r=e("reactfire"),a=e("react-timeago"),o=e("./services/HNService"),m=e("./stores/StoryCommentThreadStore"),l=e("./stores/ItemStore"),c=e("./Comment"),d=e("./PollOption"),u=e("./Spinner"),p=e("./mixins/ItemMixin"),h=e("./utils/buildClassName"),f=e("./utils/setTitle"),g=i.createClass({displayName:"Item",mixins:[p,r],getInitialState:function(){return{item:l.getCachedStory(Number(this.props.params.id))||{}}},componentWillMount:function(){this.bindAsObject(o.itemRef(this.props.params.id),"item"),this.state.item.id&&(this.threadStore=new m(this.state.item,this.handleCommentsChanged,{cached:!0}),f(this.state.item.title)),window.addEventListener("beforeunload",this.handleBeforeUnload)},componentWillUnmount:function(){this.threadStore&&this.threadStore.dispose(),window.removeEventListener("beforeunload",this.handleBeforeUnload)},componentWillReceiveProps:function(e){if(this.props.params.id!=e.params.id){this.threadStore.dispose(),this.threadStore=null,this.unbind("item");var t=l.getCachedStory(Number(e.params.id));t&&(this.threadStore=new m(t,this.handleCommentsChanged,{cached:!0}),f(t.title)),this.bindAsObject(o.itemRef(e.params.id),"item"),this.setState({item:t||{}})}},componentWillUpdate:function(e,t){!this.state.item.id&&t.item.id&&f(t.item.title)},componentDidUpdate:function(e,t){if(t.item.id!=this.state.item.id)this.threadStore&&this.threadStore.itemId==this.state.item.id||(this.threadStore=new m(this.state.item,this.handleCommentsChanged,{cached:!1}),f(this.state.item.title),this.forceUpdate());else if(t.item!==this.state.item){if(this.threadStore.loading){var n=this.state.item.kids?this.state.item.kids.length:0,s=t.item.kids?t.item.kids.length:0,i=n-s;0!==i&&this.threadStore.adjustExpectedComments(i)}this.threadStore.itemUpdated(this.state.item)}},handleBeforeUnload:function(){this.threadStore&&this.threadStore.dispose()},handleCommentsChanged:function(e){this.forceUpdate()},autoCollapse:function(e){e.preventDefault(),this.threadStore.collapseThreadsWithoutNewComments()},markAsRead:function(e){e.preventDefault(),this.threadStore.markAsRead(),this.forceUpdate()},render:function(){var e=this.state,t=e.item,n=this.threadStore;return t.id&&n?i.createElement("div",{className:h("Item",{"Item--dead":t.dead})},i.createElement("div",{className:"Item__content"},this.renderItemTitle(t),this.renderItemMeta(t,null!==n.lastVisit&&n.newCommentCount>0&&i.createElement("span",null," ","(",i.createElement("em",null,n.newCommentCount," new")," in the last ",i.createElement(a,{date:n.lastVisit,formatter:s}),") | ",i.createElement("span",{className:"control",tabIndex:"0",onClick:this.autoCollapse,onKeyPress:this.autoCollapse,title:"Collapse threads without new comments"},"auto collapse")," | ",i.createElement("span",{className:"control",tabIndex:"0",onClick:this.markAsRead,onKeyPress:this.markAsRead},"mark as read"))),t.text&&i.createElement("div",{className:"Item__text"},i.createElement("div",{dangerouslySetInnerHTML:{__html:t.text}})),"poll"==t.type&&i.createElement("div",{className:"Item__poll"},t.parts.map(function(e){return i.createElement(d,{key:e,id:e})}))),t.kids&&i.createElement("div",{className:"Item__kids"},t.kids.map(function(e,t){return i.createElement(c,{key:e,id:e,level:0,loadingSpinner:0===t,threadStore:n})}))):i.createElement("div",{className:"Item Item--loading"},i.createElement(u,{size:"20"}))}});t.exports=g},{"./Comment":1,"./PollOption":7,"./Spinner":9,"./mixins/ItemMixin":16,"./services/HNService":19,"./stores/ItemStore":21,"./stores/StoryCommentThreadStore":23,"./utils/buildClassName":26,"./utils/setTitle":32,react:"react","react-timeago":"react-timeago",reactfire:"reactfire"}],5:[function(e,t,n){"use strict";var s=e("react"),i=e("react-router"),r=i.Link,a=s.createClass({displayName:"Paginator",_onClick:function(e){setTimeout(function(){window.scrollTo(0,0)},0)},render:function(){return 1!=this.props.page||this.props.hasNext?s.createElement("div",{className:"Paginator"},this.props.page>1&&s.createElement("span",{className:"Paginator__prev"},s.createElement(r,{to:this.props.route,query:{page:this.props.page-1},onClick:this._onClick},"Prev")),this.props.page>1&&this.props.hasNext&&" | ",this.props.hasNext&&s.createElement("span",{className:"Paginator__next"},s.createElement(r,{to:this.props.route,query:{page:this.props.page+1},onClick:this._onClick},"More"))):null}});t.exports=a},{react:"react","react-router":"react-router"}],6:[function(e,t,n){"use strict";var s=e("react"),i=e("reactfire"),r=e("./stores/CommentThreadStore"),a=e("./services/HNService"),o=e("./stores/SettingsStore"),m=e("./stores/UpdatesStore"),l=e("./Comment"),c=e("./mixins/CommentMixin"),d=e("./utils/buildClassName"),u=e("./utils/setTitle"),p=s.createClass({displayName:"PermalinkedComment",mixins:[c,i],getDefaultProps:function(){return{level:0,loadingSpinner:!0}},getInitialState:function(){return{comment:m.getComment(this.props.params.id)||{},parent:{type:"comment"},op:{}}},componentWillMount:function(){this.bindAsObject(a.itemRef(this.props.params.id),"comment"),this.state.comment.id&&this.commentLoaded(this.state.comment)},componentWillReceiveProps:function(e){if(e.params.id!=this.props.params.id){var t=m.getComment(e.params.id);t&&(this.commentLoaded(t),this.setState({comment:t})),this.unbind("comment"),this.bindAsObject(a.itemRef(e.params.id),"comment")}},componentWillUpdate:function(e,t){if(t.comment&&this.state.comment.id!=t.comment.id){if(!t.comment.deleted&&"comment"!=t.comment.type)return void this.context.router.replaceWith(t.comment.type,{id:t.comment.id});this.threadStore&&this.threadStore.itemId==t.comment.id||this.commentLoaded(t.comment)}},commentLoaded:function(e){this.setTitle(e),e.deleted||(this.threadStore=new r(e,this.handleCommentsChanged),this.fetchAncestors(e))},setTitle:function(e){if(e.deleted)return u("Deleted comment");var t="Comment by "+e.by;this.state.op.id&&(t+=" | "+this.state.op.title),u(t)},handleCommentsChanged:function(e){"collapse"==e.type&&this.forceUpdate()},render:function(){var e=this.state.comment;if(!e)return this.renderError(e,{id:this.props.params.id,className:"Comment Comment--level0 Comment--error"});if(!e.id)return this.renderCommentLoading(e);if(e.deleted)return this.renderCommentDeleted(e,{className:"Comment Comment--level0 Comment--deleted"});if("comment"!=e.type)return null;var t=d("PermalinkedComment Comment Comment--level0",{"Comment--dead":e.dead}),n=this.threadStore;return s.createElement("div",{className:t},s.createElement("div",{className:"Comment__content"},this.renderCommentMeta(e,{parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!=this.state.op.id,op:!!this.state.op.id}),(!e.dead||o.showDead)&&this.renderCommentText(e,{replyLink:!0})),e.kids&&s.createElement("div",{className:"Comment__kids"},e.kids.map(function(e,t){return s.createElement(l,{key:e,id:e,level:0,loadingSpinner:0===t,threadStore:n})})))}});t.exports=p},{"./Comment":1,"./mixins/CommentMixin":15,"./services/HNService":19,"./stores/CommentThreadStore":20,"./stores/SettingsStore":22,"./stores/UpdatesStore":25,"./utils/buildClassName":26,"./utils/setTitle":32,react:"react",reactfire:"reactfire"}],7:[function(e,t,n){"use strict";var s=e("react"),i=e("reactfire"),r=e("./services/HNService"),a=e("./Spinner"),o=e("./utils/pluralise"),m=s.createClass({displayName:"PollOption",mixins:[i],getInitialState:function(){return{pollopt:{}}},componentWillMount:function(){this.bindAsObject(r.itemRef(this.props.id),"pollopt")},render:function(){var e=this.state.pollopt;return e.id?s.createElement("div",{className:"PollOption"},s.createElement("div",{className:"PollOption__text"},e.text),s.createElement("div",{className:"PollOption__score"},e.score," point",o(e.score))):s.createElement("div",{className:"PollOption PollOption--loading"},s.createElement(a,{size:"20"}))}});t.exports=m},{"./Spinner":9,"./services/HNService":19,"./utils/pluralise":31,react:"react",reactfire:"reactfire"}],8:[function(e,t,n){"use strict";var s=e("react"),i=e("./stores/SettingsStore"),r=s.createClass({displayName:"Settings",componentDidMount:function(){this.refs.container.getDOMNode().focus()},onChange:function(e){var t=e.target;"checkbox"===t.type?i[t.name]=t.checked:"number"===t.type&&t.value&&(i[t.name]=t.value),this.forceUpdate(),i.save()},onClick:function(e){e.stopPropagation()},render:function(){return s.createElement("div",{ref:"container",className:"Settings",tabIndex:"-1",onClick:this.onClick},s.createElement("form",{onChange:this.onChange},s.createElement("div",{className:"Settings__setting Settings__setting--checkbox"},s.createElement("label",{htmlFor:"autoCollapse"},s.createElement("input",{type:"checkbox",name:"autoCollapse",id:"autoCollapse",checked:i.autoCollapse})," auto collapse"),s.createElement("p",null,"Automatically collapse comment threads without new comments on page load.")),s.createElement("div",{className:"Settings__setting Settings__setting--checkbox"},s.createElement("label",{htmlFor:"replyLinks"},s.createElement("input",{type:"checkbox",name:"replyLinks",id:"replyLinks",checked:i.replyLinks})," show reply links"),s.createElement("p",null,'Show "reply" links to Hacker News')),s.createElement("div",{className:"Settings__setting Settings__setting--checkbox"},s.createElement("label",{htmlFor:"showDead"},s.createElement("input",{type:"checkbox",name:"showDead",id:"showDead",checked:i.showDead})," show dead"),s.createElement("p",null,"Show items flagged as dead.")),s.createElement("div",{className:"Settings__setting Settings__setting--checkbox"},s.createElement("label",{htmlFor:"showDeleted"},s.createElement("input",{type:"checkbox",name:"showDeleted",id:"showDeleted",checked:i.showDeleted})," show deleted"),s.createElement("p",null,"Show comments flagged as deleted in threads.")),s.createElement("div",{className:"Settings__setting"},s.createElement("table",null,s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",null,s.createElement("label",{htmlFor:"titleFontSize"},"title font size:")),s.createElement("td",null,s.createElement("input",{type:"number",min:"13.333",step:"1",name:"titleFontSize",id:"titleFontSize",value:i.titleFontSize}))),s.createElement("tr",null,s.createElement("td",null,s.createElement("label",{htmlFor:"listSpacing"},"list spacing:")),s.createElement("td",null,s.createElement("input",{type:"number",min:"0",name:"listSpacing",id:"listSpacing",value:i.listSpacing}))))))))}});t.exports=r},{"./stores/SettingsStore":22,react:"react"}],9:[function(e,t,n){"use strict";var s=e("react"),i=s.createClass({displayName:"Spinner",getDefaultProps:function(){return{size:6,spacing:2}},render:function(){var e=this.props.size+"px",t={height:e,width:e,marginRight:this.props.spacing+"px"};return s.createElement("div",{className:"Spinner",style:{width:3*(Number(this.props.size)+Number(this.props.spacing))+"px"}},s.createElement("div",{className:"bounce1",style:t}),s.createElement("div",{className:"bounce2",style:t}),s.createElement("div",{className:"bounce3",style:t}))}});t.exports=i},{react:"react"}],10:[function(e,t,n){"use strict";var s=e("react"),i=e("./stores/StoryStore"),r=e("./mixins/PageNumberMixin"),a=e("./Paginator"),o=e("./Spinner"),m=e("./StoryListItem"),l=e("./stores/SettingsStore"),c=e("./utils/constants"),d=c.ITEMS_PER_PAGE,u=e("./utils/pageCalc"),p=e("./utils/setTitle"),h=s.createClass({displayName:"Stories",mixins:[r],propTypes:{limit:s.PropTypes.number.isRequired,route:s.PropTypes.string.isRequired,type:s.PropTypes.string.isRequired,title:s.PropTypes.string},getInitialState:function(){return{ids:[],limit:this.props.limit,stories:[]}},componentWillMount:function(){p(this.props.title),this.store=new i(this.props.type),this.store.addListener("update",this.handleUpdate),this.store.start(),this.setState(this.store.getState())},componentWillUnmount:function(){this.store.removeListener("update",this.handleUpdate),this.store.stop(),this.store=null},handleUpdate:function(e){this.isMounted()&&(e.limit=e.ids.length,this.setState(e))},render:function(){var e=u(this.getPageNumber(),d,this.state.limit);if(0===this.state.stories.length&&0===this.state.ids.length){for(var t=[],n=e.startIndex;n<e.endIndex;n++)t.push(s.createElement("li",{key:n,className:"ListItem ListItem--loading",style:{marginBottom:l.listSpacing}},s.createElement(o,null)));return s.createElement("div",{className:"Items Items--loading"},s.createElement("ol",{className:"Items__list",start:e.startIndex+1},t),s.createElement(a,{route:this.props.route,page:e.pageNum,hasNext:e.hasNext}))}return s.createElement("div",{className:"Items"},s.createElement("ol",{className:"Items__list",start:e.startIndex+1},this.renderItems(e.startIndex,e.endIndex)),s.createElement(a,{route:this.props.route,page:e.pageNum,hasNext:e.hasNext}))},renderItems:function(e,t){for(var n=[],i=e;t>i;i++){var r=this.state.stories[i],a=this.state.ids[i];n.push(a?s.createElement(m,{key:a,id:a,index:i,cachedItem:r,store:this.store}):s.createElement(m,{cachedItem:r,store:this.store}))}return n}});t.exports=h},{"./Paginator":5,"./Spinner":9,"./StoryListItem":11,"./mixins/PageNumberMixin":18,"./stores/SettingsStore":22,"./stores/StoryStore":24,"./utils/constants":28,"./utils/pageCalc":30,"./utils/setTitle":32,react:"react"}],11:[function(e,t,n){"use strict";var s=e("react"),i=e("reactfire"),r=e("./stores/StoryCommentThreadStore"),a=e("./services/HNService"),o=e("./stores/SettingsStore"),m=e("./stores/StoryStore"),l=e("./mixins/ItemMixin"),c=e("./mixins/ListItemMixin"),d=e("./Spinner"),u=s.createClass({displayName:"StoryListItem",mixins:[l,c,i],propTypes:{store:s.PropTypes.instanceOf(m).isRequired,id:s.PropTypes.number,cachedItem:s.PropTypes.object,index:s.PropTypes.number},getDefaultProps:function(){return{id:null,cachedItem:null,index:null}},getInitialState:function(){return{item:this.props.cachedItem||{}}},componentWillMount:function(){null!=this.props.id?this.initLiveItem(this.props):null!=this.props.cachedItem&&(this.threadState=r.loadState(this.state.item.id))},componentWillUnmount:function(){null!=this.props.id&&this.props.store.removeListener(this.props.id,this.updateThreadState)},componentWillReceiveProps:function(e){null==this.props.id&&null!=e.id&&this.initLiveItem(e)},componentWillUpdate:function(e,t){this.state.item!==t.item&&null!=t.item&&this.props.store.itemUpdated(t.item,this.props.index)},initLiveItem:function(e){this.bindAsObject(a.itemRef(e.id),"item"),this.threadState=r.loadState(e.id),this.props.store.addListener(e.id,this.updateThreadState)},updateThreadState:function(){this.threadState=r.loadState(this.props.id),this.forceUpdate()},render:function(){return this.state.item&&this.state.item.id?this.renderListItem(this.state.item,this.threadState):s.createElement("li",{className:"ListItem ListItem--loading",style:{marginBottom:o.listSpacing}},s.createElement(d,null))}});t.exports=u},{"./Spinner":9,"./mixins/ItemMixin":16,"./mixins/ListItemMixin":17,"./services/HNService":19,"./stores/SettingsStore":22,"./stores/StoryCommentThreadStore":23,"./stores/StoryStore":24,react:"react",reactfire:"reactfire"}],12:[function(e,t,n){"use strict";function s(e){return!e.dead}function i(e){return a.showDead?e:{comments:e.comments.filter(s),stories:e.stories.filter(s)}}var r=e("react"),a=e("./stores/SettingsStore"),o=e("./stores/UpdatesStore"),m=e("./DisplayListItem"),l=e("./DisplayComment"),c=e("./Paginator"),d=e("./Spinner"),u=e("./mixins/PageNumberMixin"),p=e("./utils/constants"),h=p.ITEMS_PER_PAGE,f=e("./utils/pageCalc"),g=e("./utils/setTitle"),C=r.createClass({displayName:"Updates",mixins:[u],getInitialState:function(){return i(o.getUpdates())},componentWillMount:function(){this.setTitle(this.props.type),o.start(),o.on("updates",this.handleUpdates)},componentWillUnmount:function(){o.off("updates",this.handleUpdates),o.stop()},componentWillReceiveProps:function(e){this.props.type!=e.type&&this.setTitle(e.type)},setTitle:function(e){g("New "+("comments"==e?"Comments":"Links"))},handleUpdates:function(e){this.isMounted()&&this.setState(i(e))},render:function(){var e="comments"==this.props.type?this.state.comments:this.state.stories;if(0===e.length)return r.createElement("div",{className:"Updates Updates--loading"},r.createElement(d,{size:"20"}));var t=f(this.getPageNumber(),h,e.length);return"comments"==this.props.type?r.createElement("div",{className:"Updates Comments"},e.slice(t.startIndex,t.endIndex).map(function(e){return r.createElement(l,{key:e.id,id:e.id,comment:e})}),r.createElement(c,{route:"newcomments",page:t.pageNum,hasNext:t.hasNext})):r.createElement("div",{className:"Updates Items"},r.createElement("ol",{className:"Items__list",start:t.startIndex+1},e.slice(t.startIndex,t.endIndex).map(function(e){return r.createElement(m,{key:e.id,item:e})})),r.createElement(c,{route:"newest",page:t.pageNum,hasNext:t.hasNext}))}});t.exports=C},{"./DisplayComment":2,"./DisplayListItem":3,"./Paginator":5,"./Spinner":9,"./mixins/PageNumberMixin":18,"./stores/SettingsStore":22,"./stores/UpdatesStore":25,"./utils/constants":28,"./utils/pageCalc":30,"./utils/setTitle":32,react:"react"}],13:[function(e,t,n){"use strict";var s=e("react"),i=e("reactfire"),r=e("react-timeago"),a=e("./services/HNService"),o=e("./Spinner"),m=e("./utils/setTitle"),l=s.createClass({displayName:"UserProfile",mixins:[i],getInitialState:function(){return{user:{}}},componentWillMount:function(){this.bindAsObject(a.userRef(this.props.params.id),"user")},componentWillUpdate:function(e,t){this.state.user.id!=t.user.id&&m("Profile: "+t.user.id)},componentWillReceiveProps:function(e){this.props.params.id!=e.params.id&&(this.unbind("user"),this.bindAsObject(a.userRef(e.params.id),"user"))},render:function(){var e=this.state.user;if(!e.id)return s.createElement("div",{className:"UserProfile UserProfile--loading"},s.createElement("h4",null,this.props.params.id),s.createElement(o,{size:"20"}));var t=new Date(1e3*e.created);return s.createElement("div",{className:"UserProfile"},s.createElement("h4",null,e.id),s.createElement("dl",null,s.createElement("dt",null,"Created"),s.createElement("dd",null,s.createElement(r,{date:t})," (",t.toDateString(),")"),s.createElement("dt",null,"Karma"),s.createElement("dd",null,e.karma),s.createElement("dt",null,"Delay"),s.createElement("dd",null,e.delay),e.about&&s.createElement("dt",null,"About"),e.about&&s.createElement("dd",null,s.createElement("div",{className:"UserProfile__about",dangerouslySetInnerHTML:{__html:e.about}}))))}});t.exports=l},{"./Spinner":9,"./services/HNService":19,"./utils/setTitle":32,react:"react","react-timeago":"react-timeago",reactfire:"reactfire"}],14:[function(e,t,n){"use strict";function s(e,t,n,s){return r.createClass({render:function(){return r.createElement(p,r.__spread({},this.props,{key:e,route:e,type:t,limit:n,title:s}))}})}function i(e){return r.createClass({render:function(){return r.createElement(h,r.__spread({},this.props,{key:e,type:e}))}})}e("setimmediate");var r=e("react"),a=e("react-router"),o=e("./stores/StoryStore"),m=e("./stores/UpdatesStore"),l=e("./stores/SettingsStore"),c=e("./PermalinkedComment"),d=e("./Item"),u=e("./Settings"),p=e("./Stories"),h=e("./Updates"),f=e("./UserProfile"),g=a,C=g.DefaultRoute,S=g.Link,v=g.NotFoundRoute,y=g.Route,E=g.RouteHandler,N=r.createClass({displayName:"App",getInitialState:function(){return{showSettings:!1}},componentWillMount:function(){l.load(),o.loadSession(),m.loadSession(),window.addEventListener("beforeunload",this.handleBeforeUnload)},componentWillUnmount:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)},handleBeforeUnload:function(){o.saveSession(),m.saveSession()},toggleSettings:function(e){e.preventDefault(),this.setState({showSettings:!this.state.showSettings})},render:function(){return r.createElement("div",{className:"App",onClick:this.state.showSettings&&this.toggleSettings},r.createElement("div",{className:"App__wrap"},r.createElement("div",{className:"App__header"},r.createElement("img",{src:"logo.png",width:"16",height:"16",alt:""})," ",r.createElement(S,{to:"news",className:"App__homelink"},"React HN")," ",r.createElement(S,{to:"newest"},"new")," | ",r.createElement(S,{to:"newcomments"},"comments")," "," | ",r.createElement(S,{to:"show"},"show")," | ",r.createElement(S,{to:"ask"},"ask")," | ",r.createElement(S,{to:"jobs"},"jobs"),r.createElement("a",{className:"App__settings",tabIndex:"0",onClick:this.toggleSettings,onKeyPress:this.toggleSettings},this.state.showSettings?"hide settings":"settings"),this.state.showSettings&&r.createElement(u,{key:"settings"})),r.createElement("div",{className:"App__content"},r.createElement(E,r.__spread({},this.props))),r.createElement("div",{className:"App__footer"},"react-hn v","1.1.7"," | ",r.createElement("a",{href:"https://github.com/insin/react-hn"},"insin/react-hn"))))}}),x=r.createClass({displayName:"NotFound",render:function(){return r.createElement("h2",null,"Not found")}}),b=s("ask","askstories",200,"Ask"),w=i("comments"),I=s("jobs","jobstories",200,"Jobs"),_=s("newest","newstories",500,"New Links"),k=s("show","showstories",200,"Show"),T=s("news","topstories",500),P=r.createElement(y,{name:"app",path:"/",handler:N},r.createElement(C,{handler:T}),r.createElement(v,{handler:x}),r.createElement(y,{name:"news",path:"news",handler:T}),r.createElement(y,{name:"newest",path:"newest",handler:_}),r.createElement(y,{name:"show",path:"show",handler:k}),r.createElement(y,{name:"ask",path:"ask",handler:b}),r.createElement(y,{name:"jobs",path:"jobs",handler:I}),r.createElement(y,{name:"item",path:"item/:id",handler:d}),r.createElement(y,{name:"job",path:"job/:id",handler:d}),r.createElement(y,{name:"poll",path:"poll/:id",handler:d}),r.createElement(y,{name:"story",path:"story/:id",handler:d}),r.createElement(y,{name:"comment",path:"comment/:id",handler:c}),r.createElement(y,{name:"newcomments",path:"newcomments",handler:w}),r.createElement(y,{name:"user",path:"user/:id",handler:f}));a.run(P,function(e,t){r.render(r.createElement(e,{params:t.params,query:t.query}),document.getElementById("app"))})},{"./Item":4,"./PermalinkedComment":6,"./Settings":8,"./Stories":10,"./Updates":12,"./UserProfile":13,"./stores/SettingsStore":22,"./stores/StoryStore":24,"./stores/UpdatesStore":25,react:"react","react-router":"react-router",setimmediate:34}],15:[function(e,t,n){"use strict";var s=e("react"),i=e("react-router"),r=i.Link,a=e("react-timeago"),o=e("../stores/ItemStore"),m=e("../stores/SettingsStore"),l=e("../Spinner"),c=e("../utils/pluralise"),d={fetchAncestors:function(e){o.fetchCommentAncestors(e,function(e){this.isMounted()&&this.setState({parent:e.parent,op:e.op})}.bind(this))},renderCommentLoading:function(e){return s.createElement("div",{className:"Comment Comment--loading Comment--level"+this.props.level},(this.props.loadingSpinner||e.delayed)&&s.createElement(l,{size:"20"}),e.delayed&&s.createElement("div",{className:"Comment__text"},"Unable to load comment – this usually indicates the author has configured a delay. Trying again in 30 seconds."))},renderCommentDeleted:function(e,t){return s.createElement("div",{className:t.className},s.createElement("div",{className:"Comment__content"},s.createElement("div",{className:"Comment__meta"},"[deleted] | ",s.createElement("a",{href:"https://news.ycombinator.com/item?id="+e.id},"view on Hacker News"))))},renderError:function(e,t){return s.createElement("div",{className:t.className},s.createElement("div",{className:"Comment__content"},s.createElement("div",{className:"Comment__meta"},"[error] | comment is ",JSON.stringify(e)," | ",s.createElement("a",{href:"https://news.ycombinator.com/item?id="+t.id},"view on Hacker News"))))},renderCollapseControl:function(e){return s.createElement("span",{className:"Comment__collapse",onClick:this.toggleCollapse,onKeyPress:this.toggleCollapse,tabIndex:"0"},"[",e?"+":"–","]")},renderCommentMeta:function(e,t){return e.dead&&!m.showDead?s.createElement("div",{className:"Comment__meta"},t.collapsible&&this.renderCollapseControl(t.collapsed),t.collapsible&&" ","[dead]",t.childCounts&&" | ("+t.childCounts.children+" child"+c(t.childCounts.children,",ren"),t.childCounts&&t.childCounts.newComments>0&&", ",t.childCounts&&t.childCounts.newComments>0&&s.createElement("em",null,t.childCounts.newComments," new"),t.childCounts&&")"):s.createElement("div",{className:"Comment__meta"},t.collapsible&&this.renderCollapseControl(t.collapsed),t.collapsible&&" ",s.createElement(r,{to:"user",params:{id:e.by},className:"Comment__user"},e.by)," ",s.createElement(a,{date:1e3*e.time}),t.link&&" | ",t.link&&s.createElement(r,{to:"comment",params:{id:e.id}},"link"),t.parent&&" | ",t.parent&&s.createElement(r,{to:this.state.parent.type,params:{id:e.parent}},"parent"),t.op&&" | on: ",t.op&&s.createElement(r,{to:this.state.op.type,params:{id:this.state.op.id}},this.state.op.title),e.dead&&" | [dead]",t.childCounts&&" | ("+t.childCounts.children+" child"+c(t.childCounts.children,",ren"),t.childCounts&&t.childCounts.newComments>0&&", ",t.childCounts&&t.childCounts.newComments>0&&s.createElement("em",null,t.childCounts.newComments," new"),t.childCounts&&")")},renderCommentText:function(e,t){return s.createElement("div",{className:"Comment__text"},!e.dead||m.showDead?s.createElement("div",{dangerouslySetInnerHTML:{__html:e.text}}):"[dead]",m.replyLinks&&t.replyLink&&!e.dead&&s.createElement("p",null,s.createElement("a",{href:"https://news.ycombinator.com/reply?id="+e.id},"reply")))}};t.exports=d},{"../Spinner":9,"../stores/ItemStore":21,"../stores/SettingsStore":22,"../utils/pluralise":31,react:"react","react-router":"react-router","react-timeago":"react-timeago"}],16:[function(e,t,n){"use strict";var s=e("react"),i=e("react-router"),r=i.Link,a=e("react-timeago"),o=e("../stores/SettingsStore"),m=e("../utils/pluralise"),l=function(){var e=document.createElement("a");return function(t){e.href=t;var n=e.hostname.split(".").slice(-3);return"www"===n[0]&&n.shift(),n.join(".")}}(),c={renderItemMeta:function(e,t){var n=new Date(1e3*e.time);return"job"==e.type?s.createElement("div",{className:"Item__meta"},s.createElement(a,{date:n,className:"Item__time"})):s.createElement("div",{className:"Item__meta"},s.createElement("span",{className:"Item__score"},e.score," point",m(e.score))," ",s.createElement("span",{className:"Item__by"},"by ",s.createElement(r,{to:"user",params:{id:e.by}},e.by))," ",s.createElement(a,{date:n,className:"Item__time"})," | ",s.createElement(r,{to:e.type,params:{id:e.id}},e.descendants>0?e.descendants+" comment"+m(e.descendants):"discuss"),t)},renderItemTitle:function(e){var t,n=!!e.url;return t=e.dead?"[dead] "+e.title:n?s.createElement("a",{href:e.url},e.title):s.createElement(r,{to:e.type,params:{id:e.id}},e.title),s.createElement("div",{className:"Item__title",
style:{fontSize:o.titleFontSize}},t,n&&" ",n&&s.createElement("span",{className:"Item__host"},"(",l(e.url),")"))}};t.exports=c},{"../stores/SettingsStore":22,"../utils/pluralise":31,react:"react","react-router":"react-router","react-timeago":"react-timeago"}],17:[function(e,t,n){"use strict";var s=e("react"),i=e("react-router"),r=i.Link,a=e("../stores/SettingsStore"),o=e("../utils/buildClassName"),m={getNewCommentCount:function(e,t){return null===t.lastVisit?0:e.descendants-t.commentCount},renderListItem:function(e,t){if(e.deleted)return null;var n=this.getNewCommentCount(e,t);return s.createElement("li",{className:o("ListItem",{"ListItem--dead":e.dead}),style:{marginBottom:a.listSpacing}},this.renderItemTitle(e),this.renderItemMeta(e,n>0&&s.createElement("span",{className:"ListItem__newcomments"}," ","(",s.createElement(r,{to:e.type,params:{id:e.id}},n," new"),")")))}};t.exports=m},{"../stores/SettingsStore":22,"../utils/buildClassName":26,react:"react","react-router":"react-router"}],18:[function(e,t,n){"use strict";var s={getPageNumber:function(e){return"undefined"==typeof e&&(e=this.props.query.page),e&&/^\d+$/.test(e)?Math.max(1,Number(e)):1}};t.exports=s},{}],19:[function(e,t,n){"use strict";function s(e,t){a(e).once("value",function(e){t(e.val())})}function i(e,t){function n(n){i.push(n),i.length>=e.length&&t(i)}var i=[];e.forEach(function(e){s(e,n)})}function r(e){return c.child(e)}function a(e){return c.child("item/"+e)}function o(e){return c.child("user/"+e)}function m(){return c.child("updates/items")}var l=e("firebase"),c=new l("https://hacker-news.firebaseio.com/v0");t.exports={fetchItem:s,fetchItems:i,storiesRef:r,itemRef:a,userRef:o,updatesRef:m}},{firebase:"firebase"}],20:[function(e,t,n){"use strict";function s(e,t){this.itemId=e.id,this.onCommentsChanged=t,this.children={},this.children[e.id]=[],this.isNew={},this.isCollapsed={}}var i=e("../utils/extend");i(s.prototype,{getChildCounts:function(e){for(var t=0,n=0,s=[e.id];s.length;){for(var i=[],r=0,a=s.length;a>r;r++){var o=this.children[s[r]];o.length&&i.push.apply(i,o)}for(r=0,a=i.length;a>r;r++)this.isNew[i[r]]&&n++;t+=i.length,s=i}return{children:t,newComments:n}},commentAdded:function(e){e.deleted||(this.children[e.id]=[],this.children[e.parent].push(e.id))},commentDeleted:function(e){if(e){var t=this.children[e.parent];t.splice(t.indexOf(e.id),1)}},toggleCollapse:function(e){this.isCollapsed[e]=!this.isCollapsed[e],this.onCommentsChanged({type:"collapse"})}}),t.exports=s},{"../utils/extend":29}],21:[function(e,t,n){"use strict";function s(e,t,n){for(var s=e.id,r=e.parent;m[r]||l[r];){if(n.itemCount++,n.cacheHits++,l[r])return 1==n.itemCount&&(n.parent=l[r]),n.op=l[r],void t(n);m[r]&&(1==n.itemCount&&(n.parent={id:r,type:"comment"}),s=r,r=m[r])}c.getItem(r,function(e){n.itemCount++,m[s]=r,"comment"==e.type&&(m[e.id]=e.parent),i(e,t,n)},n)}function i(e,t,n){1==n.itemCount&&(n.parent=e),"comment"!=e.type?(n.op=e,l[e.id]={id:e.id,type:e.type,title:e.title},t(n)):s(e,t,n)}var r=e("../services/HNService"),a=e("./StoryStore"),o=e("./UpdatesStore"),m={},l={},c={getItem:function(e,t,n){var s=this.getCachedItem(e);s?(n&&n.cacheHits++,setImmediate(t,s)):r.fetchItem(e,t)},getCachedItem:function(e){return a.getItem(e)||o.getItem(e)||null},getCachedStory:function(e){return a.getItem(e)||o.getStory(e)||null},fetchCommentAncestors:function(e,t){var n=Date.now(),i={itemCount:0,cacheHits:0};s(e,function(){i.timeTaken=Date.now()-n,setImmediate(t,i)},i)}};t.exports=c},{"../services/HNService":19,"./StoryStore":24,"./UpdatesStore":25}],22:[function(e,t,n){"use strict";var s=e("../utils/extend"),i=e("../utils/storage"),r="settings",a={autoCollapse:!0,replyLinks:!0,showDead:!1,showDeleted:!1,titleFontSize:18,listSpacing:16,load:function(){var e=i.get(r);e&&s(this,JSON.parse(e))},save:function(){i.set(r,JSON.stringify({autoCollapse:this.autoCollapse,replyLinks:this.replyLinks,showDead:this.showDead,showDeleted:this.showDeleted,titleFontSize:this.titleFontSize,listSpacing:this.listSpacing}))}};t.exports=a},{"../utils/extend":29,"../utils/storage":33}],23:[function(e,t,n){"use strict";function s(e){var t=l.get(e);return t?JSON.parse(t):{lastVisit:null,commentCount:0,maxCommentId:0}}function i(e,t,n){r.call(this,e,t),this.startedLoading=Date.now(),this.parents={},this.commentCount=0,this.newCommentCount=0,this.maxCommentId=0,this.loading=!0,this.expectedComments=e.kids?e.kids.length:0,this.itemDescendantCount=e.descendants;var i=s(e.id);this.lastVisit=i.lastVisit,this.prevMaxCommentId=i.maxCommentId,this.isFirstVisit=null===i.lastVisit,n.cached||this.checkLoadCompletion()}var r=e("./CommentThreadStore"),a=e("./SettingsStore"),o=e("../utils/cancellableDebounce"),m=e("../utils/extend"),l=(e("../utils/pluralise"),e("../utils/storage"));i.loadState=s,i.prototype=m(Object.create(r.prototype),{constructor:i,numberOfCommentsChanged:o(function(){this.onCommentsChanged({type:"number"})},123),firstLoadComplete:function(){this.lastVisit=Date.now(),this.prevMaxCommentId=this.maxCommentId,this.isFirstVisit=!1,this.onCommentsChanged({type:"first_load_complete"})},checkLoadCompletion:function(){this.loading&&this.commentCount>=this.expectedComments&&(this.loading=!1,this.isFirstVisit?this.firstLoadComplete():a.autoCollapse&&this.newCommentCount>0&&this.collapseThreadsWithoutNewComments(),this._storeState())},_storeState:function(){l.set(this.itemId,JSON.stringify({lastVisit:Date.now(),commentCount:this.itemDescendantCount,maxCommentId:this.maxCommentId}))},itemUpdated:function(e){this.itemDescendantCount=e.descendants},commentAdded:function(e){return e.deleted?void(this.loading&&(this.expectedComments--,this.checkLoadCompletion())):(r.prototype.commentAdded.call(this,e),e.dead&&!a.showDead?this.expectedComments--:this.commentCount++,this.loading&&e.kids&&(this.expectedComments+=e.kids.length),this.prevMaxCommentId>0&&e.id>this.prevMaxCommentId&&(!e.dead||a.showDead)&&(this.newCommentCount++,this.isNew[e.id]=!0),e.id>this.maxCommentId&&(this.maxCommentId=e.id),e.parent!=this.itemId&&(this.parents[e.id]=e.parent),this.numberOfCommentsChanged(),void(this.loading&&this.checkLoadCompletion()))},commentDelayed:function(e){this.expectedComments--},commentDeleted:function(e){r.prototype.commentDeleted.call(this,e),this.commentCount--,this.isNew[e.id]&&(this.newCommentCount--,delete this.isNew[e.id]),delete this.parents[e.id],this.numberOfCommentsChanged()},commentDied:function(e){a.showDead||(this.commentCount--,this.isNew[e.id]&&(this.newCommentCount--,delete this.isNew[e.id]))},adjustExpectedComments:function(e){this.expectedComments+=e,this.checkLoadCompletion()},collapseThreadsWithoutNewComments:function(){for(var e=Object.keys(this.isNew),t={},n=0,s=e.length;s>n;n++)for(var i=this.parents[e[n]];i&&!t[i];)t[i]=!0,i=this.parents[i];for(var r={},a=this.children[this.itemId];a.length;){var o=[];for(n=0,s=a.length;s>n;n++){var m=a[n];if(t[m]){var l=this.children[m];l.length&&o.push.apply(o,l)}else this.isNew[m]||(r[m]=!0)}a=o}this.isCollapsed=r,this.onCommentsChanged({type:"collapse"})},markAsRead:function(){this.lastVisit=Date.now(),this.newCommentCount=0,this.prevMaxCommentId=this.maxCommentId,this.isNew={},this._storeState()},dispose:function(){this.numberOfCommentsChanged.cancel(),this._storeState()}}),t.exports=i},{"../utils/cancellableDebounce":27,"../utils/extend":29,"../utils/pluralise":31,"../utils/storage":33,"./CommentThreadStore":20,"./SettingsStore":22}],24:[function(e,t,n){"use strict";function s(e){for(var t=d[e],n=p[e],s=0,i=t.length;i>s;s++)n[s]=u[t[s]]||null}function i(e,t){return e?JSON.parse(e):t}function r(e){this.type=e,e in d||(d[e]=[]),e in p||(p[e]=[],s(e)),this.onStorage=this.onStorage.bind(this),this.onStoriesUpdated=this.onStoriesUpdated.bind(this)}var a=e("events"),o=a.EventEmitter,m=e("../services/HNService"),l=e("../utils/extend"),c=null,d={},u={},p={};for(var h in o)o.hasOwnProperty(h)&&(r[h]=o[h]);var f=null===o?null:o.prototype;r.prototype=Object.create(f),r.prototype.constructor=r,r.__superConstructor__=o,Object.defineProperty(r.prototype,"getState",{writable:!0,configurable:!0,value:function(){return{ids:d[this.type],stories:p[this.type]}}}),Object.defineProperty(r.prototype,"itemUpdated",{writable:!0,configurable:!0,value:function(e,t){p[this.type][t]=e,u[e.id]=e}}),Object.defineProperty(r.prototype,"onStorage",{writable:!0,configurable:!0,value:function(e){u[e.key]&&this.emit(e.key)}}),Object.defineProperty(r.prototype,"onStoriesUpdated",{writable:!0,configurable:!0,value:function(e){d[this.type]=e.val(),s(this.type),this.emit("update",this.getState())}}),Object.defineProperty(r.prototype,"start",{writable:!0,configurable:!0,value:function(){c=m.storiesRef(this.type),c.on("value",this.onStoriesUpdated),window.addEventListener("storage",this.onStorage)}}),Object.defineProperty(r.prototype,"stop",{writable:!0,configurable:!0,value:function(){null!==c&&(c.off(),c=null),window.removeEventListener("storage",this.onStorage)}}),l(r,{getItem:function(e){return u[e]||null},loadSession:function(){d=i(sessionStorage.idCache,{}),u=i(sessionStorage.itemCache,{})},saveSession:function(){sessionStorage.idCache=JSON.stringify(d),sessionStorage.itemCache=JSON.stringify(u)}}),t.exports=r},{"../services/HNService":19,"../utils/extend":29,events:"events"}],25:[function(e,t,n){"use strict";function s(e,t){return t.time-e.time}function i(e){var t=Object.keys(e).map(function(t){return e[t]});return t.sort(s),t}function r(){f.comments=a(h.comments),f.stories=a(h.stories)}function a(e){var t=i(e);return t.splice(d,Math.max(0,t.length-d)).forEach(function(t){delete e[t.id]}),t}function o(e){for(var t=0,n=e.length;n>t;t++){var s=e[t];s.deleted||"undefined"!=typeof g[s.type]&&("comment"==s.type?h.comments[s.id]=s:h.stories[s.id]=s)}r(),C.emit("updates",f)}var m=e("events").EventEmitter,l=e("../services/HNService"),c=e("../utils/constants"),d=c.UPDATES_CACHE_SIZE,u=e("../utils/extend"),p=null,h=null,f={},g={comment:!0,job:!0,poll:!0,story:!0},C=u(new m,{loadSession:function(){var e=sessionStorage.updates;h=e?JSON.parse(e):{comments:{},stories:{}},r()},saveSession:function(){sessionStorage.updates=JSON.stringify(h)},start:function(){null===p&&(p=l.updatesRef(),p.on("value",function(e){l.fetchItems(e.val(),o)}))},stop:function(){p.off(),p=null},getUpdates:function(){return f},getItem:function(e){return h.comments[e]||h.stories[e]||null},getComment:function(e){return h.comments[e]||null},getStory:function(e){return h.stories[e]||null}});C.off=C.removeListener,t.exports=C},{"../services/HNService":19,"../utils/constants":28,"../utils/extend":29,events:"events"}],26:[function(e,t,n){"use strict";function s(e,t){var n=[];"undefined"==typeof t?t=e:n.push(e);for(var s=Object.keys(t),i=0,r=s.length;r>i;i++)t[s[i]]&&n.push(s[i]);return n.join(" ")}t.exports=s},{}],27:[function(e,t,n){"use strict";function s(e,t,n){var s,i,r,a,o,m=function(){var l=Date.now()-a;t>l&&l>0?s=setTimeout(m,t-l):(s=null,n||(o=e.apply(r,i),s||(r=i=null)))},l=function(){r=this,i=arguments,a=Date.now();var l=n&&!s;return s||(s=setTimeout(m,t)),l&&(o=e.apply(r,i),r=i=null),o};return l.cancel=function(){s&&clearTimeout(s)},l}t.exports=s},{}],28:[function(e,t,n){"use strict";t.exports={ITEMS_PER_PAGE:30,SITE_TITLE:"React HN",UPDATES_CACHE_SIZE:500}},{}],29:[function(e,t,n){"use strict";function s(e,t,n){for(var s=Object.keys(t),i=0,r=s.length;r>i;i++)e[s[i]]=t[s[i]];if(n)for(s=Object.keys(n),i=0,r=s.length;r>i;i++)e[s[i]]=n[s[i]];return e}t.exports=s},{}],30:[function(e,t,n){"use strict";function s(e,t,n){var s=(e-1)*t,i=Math.min(n,s+t),r=n-1>i;return{pageNum:e,startIndex:s,endIndex:i,hasNext:r}}t.exports=s},{}],31:[function(e,t,n){"use strict";function s(e,t){return(t||",s").split(",")[1==e?0:1]}t.exports=s},{}],32:[function(e,t,n){"use strict";function s(e){document.title=e?e+" | "+r:r}var i=e("./constants"),r=i.SITE_TITLE;t.exports=s},{"./constants":28}],33:[function(e,t,n){"use strict";t.exports={get:function(e,t){var n=localStorage[e];return"undefined"!=typeof n?n:t},set:function(e,t){localStorage[e]=t}}},{}],34:[function(e,t,n){!function(e,t){"use strict";function n(e){return h[p]=s.apply(t,e),p++}function s(e){var n=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(t,n):new Function(""+e)()}}function i(e){if(f)setTimeout(s(i,e),0);else{var t=h[e];if(t){f=!0;try{t()}finally{r(e),f=!1}}}}function r(e){delete h[e]}function a(){u=function(){var e=n(arguments);return process.nextTick(s(i,e)),e}}function o(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function m(){var t="setImmediate$"+Math.random()+"$",s=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),u=function(){var s=n(arguments);return e.postMessage(t+s,"*"),s}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;i(t)},u=function(){var t=n(arguments);return e.port2.postMessage(t),t}}function c(){var e=g.documentElement;u=function(){var t=n(arguments),s=g.createElement("script");return s.onreadystatechange=function(){i(t),s.onreadystatechange=null,e.removeChild(s),s=null},e.appendChild(s),t}}function d(){u=function(){var e=n(arguments);return setTimeout(s(i,e),0),e}}if(!e.setImmediate){var u,p=1,h={},f=!1,g=e.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(e);C=C&&C.setTimeout?C:e,"[object process]"==={}.toString.call(e.process)?a():o()?m():e.MessageChannel?l():g&&"onreadystatechange"in g.createElement("script")?c():d(),C.setImmediate=u,C.clearImmediate=r}}(new Function("return this")())},{}]},{},[14]);