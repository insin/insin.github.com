webpackJsonp([1],{0:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;n(141);var i=n(62),a=(n(2),n(103)),s=a.render,u=n(15),l=u.Router,c=n(155),p=i({queryKey:!1});s({$$typeof:o,type:l,key:null,ref:null,props:r(l.defaultProps,{history:p,routes:c}),_owner:null},document.getElementById("app"))},8:function(e,t,n){"use strict";var r=n(31),o=n(93),i="settings",a={autoCollapse:!0,replyLinks:!0,showDead:!1,showDeleted:!1,titleFontSize:18,listSpacing:16,load:function(){var e=o.get(i);e&&r(this,JSON.parse(e))},save:function(){o.set(i,JSON.stringify({autoCollapse:this.autoCollapse,replyLinks:this.replyLinks,showDead:this.showDead,showDeleted:this.showDeleted,titleFontSize:this.titleFontSize,listSpacing:this.listSpacing}))}};e.exports=a},12:function(e,t,n){"use strict";function r(e,t){a(e).once("value",function(e){t(e.val())})}function o(e,t){function n(n){o.push(n),o.length>=e.length&&t(o)}var o=[];e.forEach(function(e){r(e,n)})}function i(e){return c.child(e)}function a(e){return c.child("item/"+e)}function s(e){return c.child("user/"+e)}function u(){return c.child("updates/items")}var l=n(94),c=new l("https://hacker-news.firebaseio.com/v0");e.exports={fetchItem:r,fetchItems:o,storiesRef:i,itemRef:a,userRef:s,updatesRef:u}},19:function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=n(2),i=o.createClass({displayName:"Spinner",getDefaultProps:function(){return{size:6,spacing:2}},render:function(){var e=this.props.size+"px",t={height:e,width:e,marginRight:this.props.spacing+"px"};return{$$typeof:r,type:"div",key:null,ref:null,props:{children:[{$$typeof:r,type:"div",key:null,ref:null,props:{className:"bounce1",style:t},_owner:null},{$$typeof:r,type:"div",key:null,ref:null,props:{className:"bounce2",style:t},_owner:null},{$$typeof:r,type:"div",key:null,ref:null,props:{className:"bounce3",style:t},_owner:null}],className:"Spinner",style:{width:3*(Number(this.props.size)+Number(this.props.spacing))+"px"}},_owner:null}}});e.exports=i},30:function(e,t){"use strict";function n(e,t){var n=[];"undefined"==typeof t?t=e:n.push(e);for(var r=Object.keys(t),o=0,i=r.length;i>o;o++)t[r[o]]&&n.push(r[o]);return n.join(" ")}e.exports=n},31:function(e,t){"use strict";function n(e,t,n){for(var r=Object.keys(t),o=0,i=r.length;i>o;o++)e[r[o]]=t[r[o]];if(n)for(r=Object.keys(n),o=0,i=r.length;i>o;o++)e[r[o]]=n[r[o]];return e}e.exports=n},32:function(e,t,n){"use strict";function r(e){document.title=e?e+" | "+i:i}var o=n(42),i=o.SITE_TITLE;e.exports=r},40:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){for(var t=h[e],n=g[e],r=0,o=t.length;o>r;r++)n[r]=m[t[r]]||null}function a(e,t){return e?JSON.parse(e):t}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=l=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,n=a,r=!0}},l=n(61),c=l.EventEmitter,p=n(12),f=n(31),d=null,h={},m={},g={},y=function(e){function t(e){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.type=e,e in h||(h[e]=[]),e in g||(g[e]=[],i(e)),this.onStorage=this.onStorage.bind(this),this.onStoriesUpdated=this.onStoriesUpdated.bind(this)}return o(t,e),s(t,[{key:"getState",value:function(){return{ids:h[this.type],stories:g[this.type]}}},{key:"itemUpdated",value:function(e,t){g[this.type][t]=e,m[e.id]=e}},{key:"onStorage",value:function(e){m[e.key]&&this.emit(e.key)}},{key:"onStoriesUpdated",value:function(e){h[this.type]=e.val(),i(this.type),this.emit("update",this.getState())}},{key:"start",value:function(){d=p.storiesRef(this.type),d.on("value",this.onStoriesUpdated),window.addEventListener("storage",this.onStorage)}},{key:"stop",value:function(){null!==d&&(d.off(),d=null),window.removeEventListener("storage",this.onStorage)}}]),t}(c);f(y,{getItem:function(e){return m[e]||null},loadSession:function(){h=a(window.sessionStorage.idCache,{}),m=a(window.sessionStorage.itemCache,{})},saveSession:function(){window.sessionStorage.idCache=JSON.stringify(h),window.sessionStorage.itemCache=JSON.stringify(m)}}),e.exports=y},41:function(e,t,n){"use strict";function r(e,t){return t.time-e.time}function o(e){var t=Object.keys(e).map(function(t){return e[t]});return t.sort(r),t}function i(){m.comments=a(h.comments),m.stories=a(h.stories)}function a(e){var t=o(e);return t.splice(p,Math.max(0,t.length-p)).forEach(function(t){delete e[t.id]}),t}function s(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];r.deleted||"undefined"!=typeof g[r.type]&&("comment"===r.type?h.comments[r.id]=r:h.stories[r.id]=r)}i(),y.emit("updates",m)}var u=n(61).EventEmitter,l=n(12),c=n(42),p=c.UPDATES_CACHE_SIZE,f=n(31),d=null,h=null,m={},g={comment:!0,job:!0,poll:!0,story:!0},y=f(new u,{loadSession:function(){var e=window.sessionStorage.updates;h=e?JSON.parse(e):{comments:{},stories:{}},i()},saveSession:function(){window.sessionStorage.updates=JSON.stringify(h)},start:function(){null===d&&(d=l.updatesRef(),d.on("value",function(e){l.fetchItems(e.val(),s)}))},stop:function(){d.off(),d=null},getUpdates:function(){return m},getItem:function(e){return h.comments[e]||h.stories[e]||null},getComment:function(e){return h.comments[e]||null},getStory:function(e){return h.stories[e]||null}});y.off=y.removeListener,e.exports=y},42:function(e,t){"use strict";e.exports={ITEMS_PER_PAGE:30,SITE_TITLE:"React HN",UPDATES_CACHE_SIZE:500}},43:function(e,t){"use strict";function n(e,t){return(t||",s").split(",")[1===e?0:1]}e.exports=n},57:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=(n(2),n(15)),a=i.Link,s=n(34),u=n(91),l=n(8),c=n(19),p=n(43),f={$$typeof:o,type:c,key:null,ref:null,props:r(c.defaultProps,{size:"20"}),_owner:null},d={$$typeof:o,type:"div",key:null,ref:null,props:{children:"Unable to load comment – this usually indicates the author has configured a delay. Trying again in 30 seconds.",className:"Comment__text"},_owner:null},h={fetchAncestors:function(e){var t=this;u.fetchCommentAncestors(e,function(e){t.isMounted()&&t.setState({parent:e.parent,op:e.op})})},renderCommentLoading:function(e){return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[(this.props.loadingSpinner||e.delayed)&&f,e.delayed&&d],className:"Comment Comment--loading Comment--level"+this.props.level},_owner:null}},renderCommentDeleted:function(e,t){return{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"div",key:null,ref:null,props:{children:["[deleted] | ",{$$typeof:o,type:"a",key:null,ref:null,props:{children:"view on Hacker News",href:"https://news.ycombinator.com/item?id="+e.id},_owner:null}],className:"Comment__meta"},_owner:null},className:"Comment__content"},_owner:null},className:t.className},_owner:null}},renderError:function(e,t){return{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"div",key:null,ref:null,props:{children:["[error] | comment is ",JSON.stringify(e)," | ",{$$typeof:o,type:"a",key:null,ref:null,props:{children:"view on Hacker News",href:"https://news.ycombinator.com/item?id="+t.id},_owner:null}],className:"Comment__meta"},_owner:null},className:"Comment__content"},_owner:null},className:t.className},_owner:null}},renderCollapseControl:function(e){return{$$typeof:o,type:"span",key:null,ref:null,props:{children:["[",e?"+":"–","]"],className:"Comment__collapse",onClick:this.toggleCollapse,onKeyPress:this.toggleCollapse,tabIndex:"0"},_owner:null}},renderCommentMeta:function(e,t){return e.dead&&!l.showDead?{$$typeof:o,type:"div",key:null,ref:null,props:{children:[t.collapsible&&this.renderCollapseControl(t.collapsed),t.collapsible&&" ","[dead]",t.childCounts&&" | ("+t.childCounts.children+" child"+p(t.childCounts.children,",ren"),t.childCounts&&t.childCounts.newComments>0&&", ",t.childCounts&&t.childCounts.newComments>0&&{$$typeof:o,type:"em",key:null,ref:null,props:{children:[t.childCounts.newComments," new"]},_owner:null},t.childCounts&&")"],className:"Comment__meta"},_owner:null}:{$$typeof:o,type:"div",key:null,ref:null,props:{children:[t.collapsible&&this.renderCollapseControl(t.collapsed),t.collapsible&&" ",{$$typeof:o,type:a,key:null,ref:null,props:r(a.defaultProps,{children:e.by,to:"/user/"+e.by,className:"Comment__user"}),_owner:null}," ",{$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{date:1e3*e.time}),_owner:null},t.link&&" | ",t.link&&{$$typeof:o,type:a,key:null,ref:null,props:r(a.defaultProps,{children:"link",to:"/comment/"+e.id}),_owner:null},t.parent&&" | ",t.parent&&{$$typeof:o,type:a,key:null,ref:null,props:r(a.defaultProps,{children:"parent",to:"/"+this.state.parent.type+"/"+e.parent}),_owner:null},t.op&&" | on: ",t.op&&{$$typeof:o,type:a,key:null,ref:null,props:r(a.defaultProps,{children:this.state.op.title,to:"/"+this.state.op.type+"/"+this.state.op.id}),_owner:null},e.dead&&" | [dead]",t.childCounts&&" | ("+t.childCounts.children+" child"+p(t.childCounts.children,",ren"),t.childCounts&&t.childCounts.newComments>0&&", ",t.childCounts&&t.childCounts.newComments>0&&{$$typeof:o,type:"em",key:null,ref:null,props:{children:[t.childCounts.newComments," new"]},_owner:null},t.childCounts&&")"],className:"Comment__meta"},_owner:null}},renderCommentText:function(e,t){return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[!e.dead||l.showDead?{$$typeof:o,type:"div",key:null,ref:null,props:{dangerouslySetInnerHTML:{__html:e.text}},_owner:null}:"[dead]",l.replyLinks&&t.replyLink&&!e.dead&&{$$typeof:o,type:"p",key:null,ref:null,props:{children:{$$typeof:o,type:"a",key:null,ref:null,props:{children:"reply",href:"https://news.ycombinator.com/reply?id="+e.id},_owner:null}},_owner:null}],className:"Comment__text"},_owner:null}}};e.exports=h},58:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=(n(2),n(15)),a=i.Link,s=n(34),u=n(8),l=n(43),c=function(){var e=document.createElement("a");return function(t){e.href=t;var n=e.hostname.split(".").slice(-3);return"www"===n[0]&&n.shift(),n.join(".")}}(),p={renderItemMeta:function(e,t){var n=new Date(1e3*e.time);return"job"===e.type?{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{date:n,className:"Item__time"}),_owner:null},className:"Item__meta"},_owner:null}:{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"span",key:null,ref:null,props:{children:[e.score," point",l(e.score)],className:"Item__score"},_owner:null}," ",{$$typeof:o,type:"span",key:null,ref:null,props:{children:["by ",{$$typeof:o,type:a,key:null,ref:null,props:r(a.defaultProps,{children:e.by,to:"/user/"+e.by}),_owner:null}],className:"Item__by"},_owner:null}," ",{$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{date:n,className:"Item__time"}),_owner:null}," | ",{$$typeof:o,type:a,key:null,ref:null,props:r(a.defaultProps,{children:e.descendants>0?e.descendants+" comment"+l(e.descendants):"discuss",to:"/"+e.type+"/"+e.id}),_owner:null},t],className:"Item__meta"},_owner:null}},renderItemTitle:function(e){var t,n=!!e.url;return t=e.dead?"[dead] "+e.title:n?{$$typeof:o,type:"a",key:null,ref:null,props:{children:e.title,href:e.url},_owner:null}:{$$typeof:o,type:a,key:null,ref:null,props:r(a.defaultProps,{children:e.title,to:"/"+e.type+"/"+e.id}),_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[t,n&&" ",n&&{$$typeof:o,type:"span",key:null,ref:null,props:{children:["(",c(e.url),")"],className:"Item__host"},_owner:null}],className:"Item__title",style:{fontSize:u.titleFontSize}},_owner:null}}};e.exports=p},59:function(e,t,n){"use strict";function r(e,t){this.itemId=e.id,this.onCommentsChanged=t,this.children={},this.children[e.id]=[],this.isNew={},this.isCollapsed={}}var o=n(31);o(r.prototype,{getChildCounts:function(e){for(var t=0,n=0,r=[e.id];r.length;){for(var o=[],i=0,a=r.length;a>i;i++){var s=this.children[r[i]];s.length&&o.push.apply(o,s)}for(i=0,a=o.length;a>i;i++)this.isNew[o[i]]&&n++;t+=o.length,r=o}return{children:t,newComments:n}},commentAdded:function(e){e.deleted||(this.children[e.id]=[],this.children[e.parent].push(e.id))},commentDeleted:function(e){if(e){var t=this.children[e.parent];t.splice(t.indexOf(e.id),1)}},toggleCollapse:function(e){this.isCollapsed[e]=!this.isCollapsed[e],this.onCommentsChanged({type:"collapse"})}}),e.exports=r},60:function(e,t,n){"use strict";function r(e){var t=l.get(e);return t?JSON.parse(t):{lastVisit:null,commentCount:0,maxCommentId:0}}function o(e,t,n){i.call(this,e,t),this.startedLoading=Date.now(),this.parents={},this.commentCount=0,this.newCommentCount=0,this.maxCommentId=0,this.loading=!0,this.expectedComments=e.kids?e.kids.length:0,this.itemDescendantCount=e.descendants;var o=r(e.id);this.lastVisit=o.lastVisit,this.prevMaxCommentId=o.maxCommentId,this.isFirstVisit=null===o.lastVisit,n.cached||this.checkLoadCompletion()}var i=n(59),a=n(8),s=n(156),u=n(31),l=(n(43),n(93));o.loadState=r,o.prototype=u(Object.create(i.prototype),{constructor:o,numberOfCommentsChanged:s(function(){this.onCommentsChanged({type:"number"})},123),firstLoadComplete:function(){this.lastVisit=Date.now(),this.prevMaxCommentId=this.maxCommentId,this.isFirstVisit=!1,this.onCommentsChanged({type:"first_load_complete"})},checkLoadCompletion:function(){this.loading&&this.commentCount>=this.expectedComments&&(this.loading=!1,this.isFirstVisit?this.firstLoadComplete():a.autoCollapse&&this.newCommentCount>0&&this.collapseThreadsWithoutNewComments(),this._storeState())},_storeState:function(){l.set(this.itemId,JSON.stringify({lastVisit:Date.now(),commentCount:this.itemDescendantCount,maxCommentId:this.maxCommentId}))},itemUpdated:function(e){this.itemDescendantCount=e.descendants},commentAdded:function(e){return e.deleted?void(this.loading&&(this.expectedComments--,this.checkLoadCompletion())):(i.prototype.commentAdded.call(this,e),e.dead&&!a.showDead?this.expectedComments--:this.commentCount++,this.loading&&e.kids&&(this.expectedComments+=e.kids.length),this.prevMaxCommentId>0&&e.id>this.prevMaxCommentId&&(!e.dead||a.showDead)&&(this.newCommentCount++,this.isNew[e.id]=!0),e.id>this.maxCommentId&&(this.maxCommentId=e.id),e.parent!==this.itemId&&(this.parents[e.id]=e.parent),this.numberOfCommentsChanged(),void(this.loading&&this.checkLoadCompletion()))},commentDelayed:function(e){this.expectedComments--},commentDeleted:function(e){i.prototype.commentDeleted.call(this,e),this.commentCount--,this.isNew[e.id]&&(this.newCommentCount--,delete this.isNew[e.id]),delete this.parents[e.id],this.numberOfCommentsChanged()},commentDied:function(e){a.showDead||(this.commentCount--,this.isNew[e.id]&&(this.newCommentCount--,delete this.isNew[e.id]))},adjustExpectedComments:function(e){this.expectedComments+=e,this.checkLoadCompletion()},collapseThreadsWithoutNewComments:function(){for(var e=Object.keys(this.isNew),t={},n=0,r=e.length;r>n;n++)for(var o=this.parents[e[n]];o&&!t[o];)t[o]=!0,o=this.parents[o];for(var i={},a=this.children[this.itemId];a.length;){var s=[];for(n=0,r=a.length;r>n;n++){var u=a[n];if(t[u]){var l=this.children[u];l.length&&s.push.apply(s,l)}else this.isNew[u]||(i[u]=!0)}a=s}this.isCollapsed=i,this.onCommentsChanged({type:"collapse"})},markAsRead:function(){this.lastVisit=Date.now(),this.newCommentCount=0,this.prevMaxCommentId=this.maxCommentId,this.isNew={},this._storeState()},dispose:function(){this.numberOfCommentsChanged.cancel(),this._storeState()}}),e.exports=o},87:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(2),a=n(25),s=n(59),u=n(12),l=n(8),c=n(57),p=n(30),f=i.createClass({displayName:"Comment",mixins:[c,a],propTypes:{id:i.PropTypes.number.isRequired,level:i.PropTypes.number.isRequired,loadingSpinner:i.PropTypes.bool,threadStore:i.PropTypes.instanceOf(s).isRequired},getDefaultProps:function(){return{loadingSpinner:!1}},getInitialState:function(){return{comment:{}}},componentWillMount:function(){this.bindFirebaseRef()},componentWillUnmount:function(){this.clearDelayTimeout()},componentDidUpdate:function(e,t){if(!this.state.comment)return void this.props.threadStore.adjustExpectedComments(-1);if(t.comment&&t.comment.id){if(!t.comment.deleted&&this.state.comment.deleted&&this.props.threadStore.commentDeleted(this.state.comment),!t.comment.dead&&this.state.comment.dead)this.props.threadStore.commentDied(this.state.comment);else if(t.comment!==this.state.comment&&this.props.threadStore.loading){var n=this.state.comment.kids?this.state.comment.kids.length:0,r=t.comment.kids?t.comment.kids.length:0;this.props.threadStore.adjustExpectedComments(n-r)}}else this.state.comment.id&&(t.comment&&t.comment.delayed&&this.clearDelayTimeout(),this.props.threadStore.commentAdded(this.state.comment)),t.comment&&!t.comment.delayed&&this.state.comment.delayed&&this.props.threadStore.commentDelayed(this.props.id)},bindFirebaseRef:function(){this.bindAsObject(u.itemRef(this.props.id),"comment",this.handleFirebaseRefCancelled),this.timeout&&(this.timeout=null)},handleFirebaseRefCancelled:function(e){this.unbind("comment"),this.timeout=setTimeout(this.bindFirebaseRef,3e4),this.state.comment&&!this.state.comment.delayed&&(this.state.comment.delayed=!0,this.forceUpdate())},clearDelayTimeout:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},toggleCollapse:function(e){e.preventDefault(),this.props.threadStore.toggleCollapse(this.state.comment.id)},render:function(){var e=this.state.comment,t=this.props;if(!e)return this.renderError(e,{id:this.props.id,className:"Comment Comment--error Comment--level"+t.level});if(!e.id)return this.renderCommentLoading(e);if(e.dead&&!l.showDead)return null;if(e.deleted)return l.showDeleted?this.renderCommentDeleted(e,{className:"Comment Comment--deleted Comment--level"+t.level}):null;var n=t.threadStore.isNew[e.id],i=!!t.threadStore.isCollapsed[e.id],a=i&&t.threadStore.getChildCounts(e);i&&n&&(a.newComments=0);var s=p("Comment Comment--level"+t.level,{"Comment--collapsed":i,"Comment--dead":e.dead,"Comment--new":n});return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{collapsible:!0,collapsed:i,link:!0,childCounts:a}),this.renderCommentText(e,{replyLink:!0})],className:"Comment__content"},_owner:null},e.kids&&{$$typeof:o,type:"div",key:null,ref:null,props:{children:e.kids.map(function(e){return{$$typeof:o,type:f,key:e,ref:null,props:r(f.defaultProps,{id:e,level:t.level+1,loadingSpinner:t.loadingSpinner,threadStore:t.threadStore}),_owner:null}}),className:"Comment__kids"},_owner:null}],className:s},_owner:null}}});e.exports=f},88:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(2),a=n(15),s=a.Link,u=i.createClass({displayName:"Paginator",_onClick:function(e){setTimeout(function(){window.scrollTo(0,0)},0)},render:function(){return 1!==this.props.page||this.props.hasNext?{$$typeof:o,type:"div",key:null,ref:null,props:{children:[this.props.page>1&&{$$typeof:o,type:"span",key:null,ref:null,props:{children:{$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{children:"Prev",to:"/"+this.props.route,query:{page:this.props.page-1},onClick:this._onClick}),_owner:null},className:"Paginator__prev"},_owner:null},this.props.page>1&&this.props.hasNext&&" | ",this.props.hasNext&&{$$typeof:o,type:"span",key:null,ref:null,props:{children:{$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{children:"More",to:"/"+this.props.route,query:{page:this.props.page+1},onClick:this._onClick}),_owner:null},className:"Paginator__next"},_owner:null}],className:"Paginator"},_owner:null}:null}});e.exports=u},89:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=(n(2),n(15)),a=i.Link,s=n(8),u=n(30),l={getNewCommentCount:function(e,t){return null===t.lastVisit?0:e.descendants-t.commentCount},renderListItem:function(e,t){if(e.deleted)return null;var n=this.getNewCommentCount(e,t);return{$$typeof:o,type:"li",key:null,ref:null,props:{children:[this.renderItemTitle(e),this.renderItemMeta(e,n>0&&{$$typeof:o,type:"span",key:null,ref:null,props:{children:[" ","(",{$$typeof:o,type:a,key:null,ref:null,props:r(a.defaultProps,{children:[n," new"],to:"/"+e.type+"/"+e.id}),_owner:null},")"],className:"ListItem__newcomments"},_owner:null})],className:u("ListItem",{"ListItem--dead":e.dead}),style:{marginBottom:s.listSpacing}},_owner:null}}};e.exports=l},90:function(e,t){"use strict";var n={getPageNumber:function(e){return"undefined"==typeof e&&(e=this.props.location.query.page),e&&/^\d+$/.test(e)?Math.max(1,Number(e)):1}};e.exports=n},91:function(e,t,n){(function(t){"use strict";function r(e,t,n){for(var r=e.id,i=e.parent;u[i]||l[i];){if(n.itemCount++,n.cacheHits++,l[i])return 1===n.itemCount&&(n.parent=l[i]),n.op=l[i],void t(n);u[i]&&(1===n.itemCount&&(n.parent={id:i,type:"comment"}),r=i,i=u[i])}c.getItem(i,function(e){n.itemCount++,u[r]=i,"comment"===e.type&&(u[e.id]=e.parent),o(e,t,n)},n)}function o(e,t,n){1===n.itemCount&&(n.parent=e),"comment"!==e.type?(n.op=e,l[e.id]={id:e.id,type:e.type,title:e.title},t(n)):r(e,t,n)}var i=n(12),a=n(40),s=n(41),u={},l={},c={getItem:function(e,n,r){var o=this.getCachedItem(e);o?(r&&r.cacheHits++,t(n,o)):i.fetchItem(e,n)},getCachedItem:function(e){return a.getItem(e)||s.getItem(e)||null},getCachedStory:function(e){return a.getItem(e)||s.getStory(e)||null},fetchCommentAncestors:function(e,n){var o=Date.now(),i={itemCount:0,cacheHits:0};r(e,function(){i.timeTaken=Date.now()-o,t(n,i)},i)}};e.exports=c}).call(t,n(56).setImmediate)},92:function(e,t){"use strict";function n(e,t,n){var r=(e-1)*t,o=Math.min(n,r+t),i=n-1>o;return{pageNum:e,startIndex:r,endIndex:o,hasNext:i}}e.exports=n},93:function(e,t){"use strict";e.exports={get:function(e,t){var n=window.localStorage[e];return"undefined"!=typeof n?n:t},set:function(e,t){window.localStorage[e]=t}}},143:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(2),a=n(15),s=a.Link,u=n(150),l=n(40),c=n(41),p=n(8),f={$$typeof:o,type:"img",key:null,ref:null,props:{src:"logo.png",width:"16",height:"16",alt:""},_owner:null},d={$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{children:"React HN",to:"/news",activeClassName:"active",className:"App__homelink"}),_owner:null},h={$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{children:"new",to:"/newest",activeClassName:"active"}),_owner:null},m={$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{children:"comments",to:"/newcomments",activeClassName:"active"}),_owner:null},g={$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{children:"show",to:"/show",activeClassName:"active"}),_owner:null},y={$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{children:"ask",to:"/ask",activeClassName:"active"}),_owner:null},v={$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{children:"jobs",to:"/jobs",activeClassName:"active"}),_owner:null},b={$$typeof:o,type:u,key:"settings",ref:null,props:r(u.defaultProps,{}),_owner:null},w={$$typeof:o,type:"a",key:null,ref:null,props:{children:"insin/react-hn",href:"https://github.com/insin/react-hn"},_owner:null},_=i.createClass({displayName:"App",getInitialState:function(){return{showSettings:!1}},componentWillMount:function(){p.load(),l.loadSession(),c.loadSession(),window.addEventListener("beforeunload",this.handleBeforeUnload)},componentWillUnmount:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)},handleBeforeUnload:function(){l.saveSession(),c.saveSession()},toggleSettings:function(e){e.preventDefault(),this.setState({showSettings:!this.state.showSettings})},render:function(){return{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"div",key:null,ref:null,props:{children:[f," ",d," ",h," | ",m," "," | ",g," | ",y," | ",v,{$$typeof:o,type:"a",key:null,ref:null,props:{children:this.state.showSettings?"hide settings":"settings",className:"App__settings",tabIndex:"0",onClick:this.toggleSettings,onKeyPress:this.toggleSettings},_owner:null},this.state.showSettings&&b],className:"App__header"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:this.props.children,className:"App__content"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:["react-hn v1.3.1 | ",w],className:"App__footer"},_owner:null}],className:"App__wrap"},_owner:null},className:"App",onClick:this.state.showSettings&&this.toggleSettings},_owner:null}}});e.exports=_},144:function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=n(2),i=n(8),a=n(57),s=n(30),u=o.createClass({displayName:"DisplayComment",mixins:[a],propTypes:{comment:o.PropTypes.object.isRequired},getInitialState:function(){return{op:{},parent:{type:"comment"}}},componentWillMount:function(){this.fetchAncestors(this.props.comment)},render:function(){if(this.props.comment.deleted)return null;if(this.props.comment.dead&&!i.showDead)return null;var e=this.props.comment,t=s("Comment Comment--level0",{"Comment--dead":e.dead});return{$$typeof:r,type:"div",key:null,ref:null,props:{children:{$$typeof:r,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{link:!0,parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!==this.state.op.id,op:!!this.state.op.id}),this.renderCommentText(e,{replyLink:!1})],className:"Comment__content"},_owner:null},className:t},_owner:null}}});e.exports=u},145:function(e,t,n){"use strict";var r=n(2),o=n(60),i=n(58),a=n(89),s=r.createClass({displayName:"DisplayListItem",mixins:[i,a],propTypes:{item:r.PropTypes.object.isRequired},componentWillMount:function(){this.threadState=o.loadState(this.props.item.id)},render:function(){return this.renderListItem(this.props.item,this.threadState)}});e.exports=s},146:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function o(e,t,n){return 1===e?t:e+" "+t+"s"}var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,a=n(2),s=n(25),u=n(34),l=n(12),c=n(60),p=n(91),f=n(87),d=n(149),h=n(19),m=n(58),g=n(30),y=n(32),v={$$typeof:i,type:"div",key:null,ref:null,props:{children:{$$typeof:i,type:h,key:null,ref:null,props:r(h.defaultProps,{size:"20"}),_owner:null},className:"Item Item--loading"},_owner:null},b=a.createClass({displayName:"Item",mixins:[m,s],getInitialState:function(){return{item:p.getCachedStory(Number(this.props.params.id))||{}}},componentWillMount:function(){this.bindAsObject(l.itemRef(this.props.params.id),"item"),this.state.item.id&&(this.threadStore=new c(this.state.item,this.handleCommentsChanged,{cached:!0}),y(this.state.item.title)),window.addEventListener("beforeunload",this.handleBeforeUnload)},componentWillUnmount:function(){this.threadStore&&this.threadStore.dispose(),window.removeEventListener("beforeunload",this.handleBeforeUnload)},componentWillReceiveProps:function(e){if(this.props.params.id!==e.params.id){this.threadStore.dispose(),this.threadStore=null,this.unbind("item");var t=p.getCachedStory(Number(e.params.id));t&&(this.threadStore=new c(t,this.handleCommentsChanged,{cached:!0}),y(t.title)),this.bindAsObject(l.itemRef(e.params.id),"item"),this.setState({item:t||{}})}},componentWillUpdate:function(e,t){!this.state.item.id&&t.item.id&&y(t.item.title)},componentDidUpdate:function(e,t){if(t.item.id!==this.state.item.id)this.threadStore&&this.threadStore.itemId===this.state.item.id||(this.threadStore=new c(this.state.item,this.handleCommentsChanged,{cached:!1}),y(this.state.item.title),this.forceUpdate());else if(t.item!==this.state.item){if(this.threadStore.loading){var n=this.state.item.kids?this.state.item.kids.length:0,r=t.item.kids?t.item.kids.length:0,o=n-r;0!==o&&this.threadStore.adjustExpectedComments(o)}this.threadStore.itemUpdated(this.state.item)}},handleBeforeUnload:function(){this.threadStore&&this.threadStore.dispose()},handleCommentsChanged:function(e){this.forceUpdate()},autoCollapse:function(e){e.preventDefault(),this.threadStore.collapseThreadsWithoutNewComments()},markAsRead:function(e){e.preventDefault(),this.threadStore.markAsRead(),this.forceUpdate()},render:function(){var e=this.state,t=e.item,n=this.threadStore;return t.id&&n?{$$typeof:i,type:"div",key:null,ref:null,props:{children:[{$$typeof:i,type:"div",key:null,ref:null,props:{children:[this.renderItemTitle(t),this.renderItemMeta(t,null!==n.lastVisit&&n.newCommentCount>0&&{$$typeof:i,type:"span",key:null,ref:null,props:{children:[" ","(",{$$typeof:i,type:"em",key:null,ref:null,props:{children:[n.newCommentCount," new"]},_owner:null}," in the last ",{$$typeof:i,type:u,key:null,ref:null,props:r(u.defaultProps,{date:n.lastVisit,formatter:o}),_owner:null},") | ",{$$typeof:i,type:"span",key:null,ref:null,props:{children:"auto collapse",className:"control",tabIndex:"0",onClick:this.autoCollapse,onKeyPress:this.autoCollapse,title:"Collapse threads without new comments"},_owner:null}," | ",{$$typeof:i,type:"span",key:null,ref:null,props:{children:"mark as read",className:"control",tabIndex:"0",onClick:this.markAsRead,onKeyPress:this.markAsRead},_owner:null}]},_owner:null}),t.text&&{$$typeof:i,type:"div",key:null,ref:null,props:{children:{$$typeof:i,type:"div",key:null,ref:null,props:{dangerouslySetInnerHTML:{__html:t.text}},_owner:null},className:"Item__text"},_owner:null},"poll"===t.type&&{$$typeof:i,type:"div",key:null,ref:null,props:{children:t.parts.map(function(e){return{$$typeof:i,type:d,key:e,ref:null,props:r(d.defaultProps,{id:e}),_owner:null}}),className:"Item__poll"},_owner:null}],className:"Item__content"},_owner:null},t.kids&&{$$typeof:i,type:"div",key:null,ref:null,props:{children:t.kids.map(function(e,t){return{$$typeof:i,type:f,key:e,ref:null,props:r(f.defaultProps,{id:e,level:0,loadingSpinner:0===t,threadStore:n}),_owner:null}}),className:"Item__kids"},_owner:null}],className:g("Item",{"Item--dead":t.dead})},_owner:null}:v}});e.exports=b},147:function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=n(2),i={$$typeof:r,type:"h2",key:null,ref:null,props:{children:"Not found"},_owner:null},a=o.createClass({displayName:"NotFound",render:function(){return i}});e.exports=a},148:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);
return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(2),a=n(25),s=n(59),u=n(12),l=n(8),c=n(41),p=n(87),f=n(57),d=n(30),h=n(32),m=i.createClass({displayName:"PermalinkedComment",mixins:[f,a],getDefaultProps:function(){return{level:0,loadingSpinner:!0}},getInitialState:function(){return{comment:c.getComment(this.props.params.id)||{},parent:{type:"comment"},op:{}}},componentWillMount:function(){this.bindAsObject(u.itemRef(this.props.params.id),"comment"),this.state.comment.id&&this.commentLoaded(this.state.comment)},componentWillReceiveProps:function(e){if(e.params.id!==this.props.params.id){var t=c.getComment(e.params.id);t&&(this.commentLoaded(t),this.setState({comment:t})),this.unbind("comment"),this.bindAsObject(u.itemRef(e.params.id),"comment")}},componentWillUpdate:function(e,t){if(t.comment&&this.state.comment.id!==t.comment.id){if(!t.comment.deleted&&"comment"!==t.comment.type)return void this.context.router.replaceWith(t.comment.type,{id:t.comment.id});this.threadStore&&this.threadStore.itemId===t.comment.id||this.commentLoaded(t.comment)}},commentLoaded:function(e){this.setTitle(e),e.deleted||(this.threadStore=new s(e,this.handleCommentsChanged),this.fetchAncestors(e))},setTitle:function(e){if(e.deleted)return h("Deleted comment");var t="Comment by "+e.by;this.state.op.id&&(t+=" | "+this.state.op.title),h(t)},handleCommentsChanged:function(e){"collapse"===e.type&&this.forceUpdate()},render:function(){var e=this.state.comment;if(!e)return this.renderError(e,{id:this.props.params.id,className:"Comment Comment--level0 Comment--error"});if(!e.id)return this.renderCommentLoading(e);if(e.deleted)return this.renderCommentDeleted(e,{className:"Comment Comment--level0 Comment--deleted"});if("comment"!==e.type)return null;var t=d("PermalinkedComment Comment Comment--level0",{"Comment--dead":e.dead}),n=this.threadStore;return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!==this.state.op.id,op:!!this.state.op.id}),(!e.dead||l.showDead)&&this.renderCommentText(e,{replyLink:!0})],className:"Comment__content"},_owner:null},e.kids&&{$$typeof:o,type:"div",key:null,ref:null,props:{children:e.kids.map(function(e,t){return{$$typeof:o,type:p,key:e,ref:null,props:r(p.defaultProps,{id:e,level:0,loadingSpinner:0===t,threadStore:n}),_owner:null}}),className:"Comment__kids"},_owner:null}],className:t},_owner:null}}});e.exports=m},149:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(2),a=n(25),s=n(12),u=n(19),l=n(43),c={$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:u,key:null,ref:null,props:r(u.defaultProps,{size:"20"}),_owner:null},className:"PollOption PollOption--loading"},_owner:null},p=i.createClass({displayName:"PollOption",mixins:[a],getInitialState:function(){return{pollopt:{}}},componentWillMount:function(){this.bindAsObject(s.itemRef(this.props.id),"pollopt")},render:function(){var e=this.state.pollopt;return e.id?{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"div",key:null,ref:null,props:{children:e.text,className:"PollOption__text"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[e.score," point",l(e.score)],className:"PollOption__score"},_owner:null}],className:"PollOption"},_owner:null}:c}});e.exports=p},150:function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=n(2),i=n(8),a={$$typeof:r,type:"p",key:null,ref:null,props:{children:"Automatically collapse comment threads without new comments on page load."},_owner:null},s={$$typeof:r,type:"p",key:null,ref:null,props:{children:'Show "reply" links to Hacker News'},_owner:null},u={$$typeof:r,type:"p",key:null,ref:null,props:{children:"Show items flagged as dead."},_owner:null},l={$$typeof:r,type:"p",key:null,ref:null,props:{children:"Show comments flagged as deleted in threads."},_owner:null},c={$$typeof:r,type:"td",key:null,ref:null,props:{children:{$$typeof:r,type:"label",key:null,ref:null,props:{children:"title font size:",htmlFor:"titleFontSize"},_owner:null}},_owner:null},p={$$typeof:r,type:"td",key:null,ref:null,props:{children:{$$typeof:r,type:"label",key:null,ref:null,props:{children:"list spacing:",htmlFor:"listSpacing"},_owner:null}},_owner:null},f=o.createClass({displayName:"Settings",componentDidMount:function(){this.refs.container.focus()},onChange:function(e){var t=e.target;"checkbox"===t.type?i[t.name]=t.checked:"number"===t.type&&t.value&&(i[t.name]=t.value),this.forceUpdate(),i.save()},onClick:function(e){e.stopPropagation()},render:function(){return o.createElement("div",{ref:"container",className:"Settings",tabIndex:"-1",onClick:this.onClick},{$$typeof:r,type:"form",key:null,ref:null,props:{children:[{$$typeof:r,type:"div",key:null,ref:null,props:{children:[{$$typeof:r,type:"label",key:null,ref:null,props:{children:[{$$typeof:r,type:"input",key:null,ref:null,props:{type:"checkbox",name:"autoCollapse",id:"autoCollapse",checked:i.autoCollapse},_owner:null}," auto collapse"],htmlFor:"autoCollapse"},_owner:null},a],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:r,type:"div",key:null,ref:null,props:{children:[{$$typeof:r,type:"label",key:null,ref:null,props:{children:[{$$typeof:r,type:"input",key:null,ref:null,props:{type:"checkbox",name:"replyLinks",id:"replyLinks",checked:i.replyLinks},_owner:null}," show reply links"],htmlFor:"replyLinks"},_owner:null},s],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:r,type:"div",key:null,ref:null,props:{children:[{$$typeof:r,type:"label",key:null,ref:null,props:{children:[{$$typeof:r,type:"input",key:null,ref:null,props:{type:"checkbox",name:"showDead",id:"showDead",checked:i.showDead},_owner:null}," show dead"],htmlFor:"showDead"},_owner:null},u],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:r,type:"div",key:null,ref:null,props:{children:[{$$typeof:r,type:"label",key:null,ref:null,props:{children:[{$$typeof:r,type:"input",key:null,ref:null,props:{type:"checkbox",name:"showDeleted",id:"showDeleted",checked:i.showDeleted},_owner:null}," show deleted"],htmlFor:"showDeleted"},_owner:null},l],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:r,type:"div",key:null,ref:null,props:{children:{$$typeof:r,type:"table",key:null,ref:null,props:{children:{$$typeof:r,type:"tbody",key:null,ref:null,props:{children:[{$$typeof:r,type:"tr",key:null,ref:null,props:{children:[c,{$$typeof:r,type:"td",key:null,ref:null,props:{children:{$$typeof:r,type:"input",key:null,ref:null,props:{type:"number",min:"13.333",step:"1",name:"titleFontSize",id:"titleFontSize",value:i.titleFontSize},_owner:null}},_owner:null}]},_owner:null},{$$typeof:r,type:"tr",key:null,ref:null,props:{children:[p,{$$typeof:r,type:"td",key:null,ref:null,props:{children:{$$typeof:r,type:"input",key:null,ref:null,props:{type:"number",min:"0",name:"listSpacing",id:"listSpacing",value:i.listSpacing},_owner:null}},_owner:null}]},_owner:null}]},_owner:null}},_owner:null},className:"Settings__setting"},_owner:null}],onChange:this.onChange},_owner:null})}});e.exports=f},151:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(2),a=n(40),s=n(90),u=n(88),l=n(19),c=n(152),p=n(8),f=n(42),d=f.ITEMS_PER_PAGE,h=n(92),m=n(32),g={$$typeof:o,type:l,key:null,ref:null,props:r(l.defaultProps,{}),_owner:null},y=i.createClass({displayName:"Stories",mixins:[s],propTypes:{limit:i.PropTypes.number.isRequired,route:i.PropTypes.string.isRequired,type:i.PropTypes.string.isRequired,title:i.PropTypes.string},getInitialState:function(){return{ids:[],limit:this.props.limit,stories:[]}},componentWillMount:function(){m(this.props.title),this.store=new a(this.props.type),this.store.addListener("update",this.handleUpdate),this.store.start(),this.setState(this.store.getState())},componentWillUnmount:function(){this.store.removeListener("update",this.handleUpdate),this.store.stop(),this.store=null},handleUpdate:function(e){this.isMounted()&&(e.limit=e.ids.length,this.setState(e))},render:function(){var e=h(this.getPageNumber(),d,this.state.limit);if(0===this.state.stories.length&&0===this.state.ids.length){for(var t=[],n=e.startIndex;n<e.endIndex;n++)t.push({$$typeof:o,type:"li",key:n,ref:null,props:{children:g,className:"ListItem ListItem--loading",style:{marginBottom:p.listSpacing}},_owner:null});return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"ol",key:null,ref:null,props:{children:t,className:"Items__list",start:e.startIndex+1},_owner:null},{$$typeof:o,type:u,key:null,ref:null,props:r(u.defaultProps,{route:this.props.route,page:e.pageNum,hasNext:e.hasNext}),_owner:null}],className:"Items Items--loading"},_owner:null}}return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"ol",key:null,ref:null,props:{children:this.renderItems(e.startIndex,e.endIndex),className:"Items__list",start:e.startIndex+1},_owner:null},{$$typeof:o,type:u,key:null,ref:null,props:r(u.defaultProps,{route:this.props.route,page:e.pageNum,hasNext:e.hasNext}),_owner:null}],className:"Items"},_owner:null}},renderItems:function(e,t){for(var n=[],i=e;t>i;i++){var a=this.state.stories[i],s=this.state.ids[i];s?n.push({$$typeof:o,type:c,key:s,ref:null,props:r(c.defaultProps,{id:s,index:i,cachedItem:a,store:this.store}),_owner:null}):n.push({$$typeof:o,type:c,key:null,ref:null,props:r(c.defaultProps,{cachedItem:a,store:this.store}),_owner:null})}return n}});e.exports=y},152:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(2),a=n(25),s=n(60),u=n(12),l=n(8),c=n(40),p=n(58),f=n(89),d=n(19),h={$$typeof:o,type:d,key:null,ref:null,props:r(d.defaultProps,{}),_owner:null},m=i.createClass({displayName:"StoryListItem",mixins:[p,f,a],propTypes:{store:i.PropTypes.instanceOf(c).isRequired,id:i.PropTypes.number,cachedItem:i.PropTypes.object,index:i.PropTypes.number},getDefaultProps:function(){return{id:null,cachedItem:null,index:null}},getInitialState:function(){return{item:this.props.cachedItem||{}}},componentWillMount:function(){null!=this.props.id?this.initLiveItem(this.props):null!=this.props.cachedItem&&(this.threadState=s.loadState(this.state.item.id))},componentWillUnmount:function(){null!=this.props.id&&this.props.store.removeListener(this.props.id,this.updateThreadState)},componentWillReceiveProps:function(e){null==this.props.id&&null!=e.id&&this.initLiveItem(e)},componentWillUpdate:function(e,t){this.state.item!==t.item&&null!=t.item&&this.props.store.itemUpdated(t.item,this.props.index)},initLiveItem:function(e){this.bindAsObject(u.itemRef(e.id),"item"),this.threadState=s.loadState(e.id),this.props.store.addListener(e.id,this.updateThreadState)},updateThreadState:function(){this.threadState=s.loadState(this.props.id),this.forceUpdate()},render:function(){return this.state.item&&this.state.item.id?this.renderListItem(this.state.item,this.threadState):{$$typeof:o,type:"li",key:null,ref:null,props:{children:h,className:"ListItem ListItem--loading",style:{marginBottom:l.listSpacing}},_owner:null}}});e.exports=m},153:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function o(e){return!e.dead}function i(e){return u.showDead?e:{comments:e.comments.filter(o),stories:e.stories.filter(o)}}var a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,s=n(2),u=n(8),l=n(41),c=n(145),p=n(144),f=n(88),d=n(19),h=n(90),m=n(42),g=m.ITEMS_PER_PAGE,y=n(92),v=n(32),b={$$typeof:a,type:"div",key:null,ref:null,props:{children:{$$typeof:a,type:d,key:null,ref:null,props:r(d.defaultProps,{size:"20"}),_owner:null},className:"Updates Updates--loading"},_owner:null},w=s.createClass({displayName:"Updates",mixins:[h],getInitialState:function(){return i(l.getUpdates())},componentWillMount:function(){this.setTitle(this.props.type),l.start(),l.on("updates",this.handleUpdates)},componentWillUnmount:function(){l.off("updates",this.handleUpdates),l.stop()},componentWillReceiveProps:function(e){this.props.type!==e.type&&this.setTitle(e.type)},setTitle:function(e){v("New "+("comments"===e?"Comments":"Links"))},handleUpdates:function(e){this.isMounted()&&this.setState(i(e))},render:function(){var e="comments"===this.props.type?this.state.comments:this.state.stories;if(0===e.length)return b;var t=y(this.getPageNumber(),g,e.length);return"comments"===this.props.type?{$$typeof:a,type:"div",key:null,ref:null,props:{children:[e.slice(t.startIndex,t.endIndex).map(function(e){return{$$typeof:a,type:p,key:e.id,ref:null,props:r(p.defaultProps,{id:e.id,comment:e}),_owner:null}}),{$$typeof:a,type:f,key:null,ref:null,props:r(f.defaultProps,{route:"newcomments",page:t.pageNum,hasNext:t.hasNext}),_owner:null}],className:"Updates Comments"},_owner:null}:{$$typeof:a,type:"div",key:null,ref:null,props:{children:[{$$typeof:a,type:"ol",key:null,ref:null,props:{children:e.slice(t.startIndex,t.endIndex).map(function(e){return{$$typeof:a,type:c,key:e.id,ref:null,props:r(c.defaultProps,{item:e}),_owner:null}}),className:"Items__list",start:t.startIndex+1},_owner:null},{$$typeof:a,type:f,key:null,ref:null,props:r(f.defaultProps,{route:"newest",page:t.pageNum,hasNext:t.hasNext}),_owner:null}],className:"Updates Items"},_owner:null}}});e.exports=w},154:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(2),a=n(25),s=n(34),u=n(12),l=n(19),c=n(32),p={$$typeof:o,type:l,key:null,ref:null,props:r(l.defaultProps,{size:"20"}),_owner:null},f={$$typeof:o,type:"dt",key:null,ref:null,props:{children:"Created"},_owner:null},d={$$typeof:o,type:"dt",key:null,ref:null,props:{children:"Karma"},_owner:null},h={$$typeof:o,type:"dt",key:null,ref:null,props:{children:"Delay"},_owner:null},m={$$typeof:o,type:"dt",key:null,ref:null,props:{children:"About"},_owner:null},g=i.createClass({displayName:"UserProfile",mixins:[a],getInitialState:function(){return{user:{}}},componentWillMount:function(){this.bindAsObject(u.userRef(this.props.params.id),"user")},componentWillUpdate:function(e,t){this.state.user.id!==t.user.id&&c("Profile: "+t.user.id)},componentWillReceiveProps:function(e){this.props.params.id!==e.params.id&&(this.unbind("user"),this.bindAsObject(u.userRef(e.params.id),"user"))},render:function(){var e=this.state.user;if(!e.id)return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"h4",key:null,ref:null,props:{children:this.props.params.id},_owner:null},p],className:"UserProfile UserProfile--loading"},_owner:null};var t=new Date(1e3*e.created);return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"h4",key:null,ref:null,props:{children:e.id},_owner:null},{$$typeof:o,type:"dl",key:null,ref:null,props:{children:[f,{$$typeof:o,type:"dd",key:null,ref:null,props:{children:[{$$typeof:o,type:s,key:null,ref:null,props:r(s.defaultProps,{date:t}),_owner:null}," (",t.toDateString(),")"]},_owner:null},d,{$$typeof:o,type:"dd",key:null,ref:null,props:{children:e.karma},_owner:null},h,{$$typeof:o,type:"dd",key:null,ref:null,props:{children:e.delay},_owner:null},e.about&&m,e.about&&{$$typeof:o,type:"dd",key:null,ref:null,props:{children:{$$typeof:o,type:"div",key:null,ref:null,props:{className:"UserProfile__about",dangerouslySetInnerHTML:{__html:e.about}},_owner:null}},_owner:null}]},_owner:null}],className:"UserProfile"},_owner:null}}});e.exports=g},155:function(e,t,n){"use strict";function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function o(e,t,n,r){return u.createClass({render:function(){return u.createElement(g,a({},this.props,{key:e,route:e,type:t,limit:n,title:r}))}})}function i(e){return u.createClass({render:function(){return u.createElement(y,a({},this.props,{key:e,type:e}))}})}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,u=n(2),l=n(15),c=l.IndexRoute,p=l.Route,f=n(143),d=n(146),h=n(147),m=n(148),g=n(151),y=n(153),v=n(154),b=o("ask","askstories",200,"Ask"),w=i("comments"),_=o("jobs","jobstories",200,"Jobs"),C=o("newest","newstories",500,"New Links"),E=o("show","showstories",200,"Show"),k=o("news","topstories",500);e.exports={$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{children:[{$$typeof:s,type:c,key:null,ref:null,props:r(c.defaultProps,{component:k}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"news",component:k}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"newest",component:C}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"show",component:E}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"ask",component:b}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"jobs",component:_}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"item/:id",component:d}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"job/:id",component:d}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"poll/:id",component:d}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"story/:id",component:d}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"comment/:id",component:m}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"newcomments",component:w}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"user/:id",component:v}),_owner:null},{$$typeof:s,type:p,key:null,ref:null,props:r(p.defaultProps,{path:"*",component:h}),_owner:null}],path:"/",component:f}),_owner:null}},156:function(e,t){"use strict";function n(e,t,n){var r,o,i,a,s,u=function c(){var u=Date.now()-a;t>u&&u>0?r=setTimeout(c,t-u):(r=null,n||(s=e.apply(i,o),r||(i=o=null)))},l=function(){i=this,o=arguments,a=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(i,o),i=o=null),s};return l.cancel=function(){r&&clearTimeout(r)},l}e.exports=n}});
//# sourceMappingURL=app.js.map